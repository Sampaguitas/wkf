(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{47:function(e,t,a){},48:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var s=a(3),n=a.n(s),c=a(35),o=a.n(c),i=(a(47),a(48),a(1)),l=a(42),r=a(7),d=a(8),h=a(2),p=a(10),u=a(9),j=a(14),b=a(13),m=a(20),O=a(39),g=a(40),v=a(41),x=a(6),f=a(5),w=a(18),S=Object(w.a)(),C=a(0),y=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={show:!1},s.togglePassword=s.togglePassword.bind(Object(h.a)(s)),s}return Object(d.a)(a,[{key:"togglePassword",value:function(e){e.preventDefault();var t=this.state.show;this.setState({show:!t})}},{key:"render",value:function(){var e=this,t=this.state.show,a=this.props,s=a.submitted,n=a.value,c=a.icon,o=a.name,i=a.type,l=a.onChange,r=a.placeholder,d=a.autoComplete,h=a.title;return Object(C.jsxs)("div",{className:"form-group"+(s&&!n?" has-error":""),children:[Object(C.jsxs)("div",{className:"input-group no-select",children:[Object(C.jsx)("div",{className:"input-group-prepend",children:Object(C.jsx)("div",{className:"input-group-text",children:Object(C.jsx)(f.a,{icon:c})})}),Object(C.jsx)("input",{className:"form-control",name:o,type:t?"text":i,value:n,onChange:l,placeholder:r,autoComplete:d,required:!0}),"password"===i&&Object(C.jsx)("div",{className:"input-group-append",children:Object(C.jsx)("div",{type:"button",className:"input-group-text",onClick:function(t){return e.togglePassword(t)},children:Object(C.jsx)(f.a,{icon:t?"eye-slash":"eye"})})})]}),s&&!n&&Object(C.jsxs)("div",{className:"help-block",children:[h," is required"]})]})}}]),a}(n.a.Component),N=a.p+"static/media/logo.69d292ad.jpg",D=a.p+"static/media/rdb.86485dab.svg",k=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={email:"",password:"",loggingIn:!1,alert:{type:"",message:""}},s.handleChange=s.handleChange.bind(Object(h.a)(s)),s.handleLogin=s.handleLogin.bind(Object(h.a)(s)),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){localStorage.removeItem("user")}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(x.a)({},a,s))}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault();var a=this.state,s=a.email,n=a.password,c=a.loggingIn;s&&n&&!c&&this.setState({loggingIn:!0},(function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:n})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/users/login"),e).then((function(e){return e.text().then((function(a){t.setState({loggingIn:!1},(function(){var s=a&&JSON.parse(a),n=s&&s.message||e.statusText;401===e.status?localStorage.removeItem("user"):s.token?(localStorage.setItem("user",JSON.stringify(s)),S.push("/"),window.location.reload()):t.setState({alert:{type:200===e.status?"alert-success":"alert-danger",message:n}})}))})).catch((function(){localStorage.removeItem("user")}))}))}))}},{key:"render",value:function(){var e=this.state,t=e.alert,a=e.email,s=e.password,n=e.loggingIn;return Object(C.jsx)("div",{id:"login-card",className:"row justify-content-center align-self-center",children:Object(C.jsx)("div",{className:"card card-login",children:Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("img",{src:N,className:"img-fluid",alt:"Van Leeuwen Pipe and Tube"}),Object(C.jsx)("br",{}),Object(C.jsx)("img",{src:D,className:"img-fluid mt-2",alt:"Reconciliation Database"}),Object(C.jsx)("hr",{}),Object(C.jsxs)("form",{name:"form",onSubmit:this.handleLogin,children:[Object(C.jsx)(y,{title:"Email",name:"email",type:"email",value:a,onChange:this.handleChange,placeholder:"Email",icon:"user",submitted:n,autoComplete:"email"}),Object(C.jsx)(y,{title:"Password",name:"password",type:"password",value:s,onChange:this.handleChange,placeholder:"Password",icon:"lock",submitted:n,autoComplete:"current-password"}),Object(C.jsx)("hr",{}),Object(C.jsx)("button",{type:"submit",className:"btn btn-sm btn-block btn-leeuwen",children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:n?"spinner":"sign-in-alt",className:n?"fa-pulse fa fa-fw mr-2":"fa mr-2"}),"Login"]})}),Object(C.jsx)(j.c,{to:{pathname:"/reqpwd"},className:"btn btn-link btn-sm",tag:"a",children:"Forgot your password?"}),Object(C.jsx)("br",{}),t.message&&Object(C.jsx)("div",{className:"alert ".concat(t.type),children:t.message})]})]})})})}}]),a}(n.a.Component),A=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={email:"",requesting:!1,menuItem:"",alert:{type:"",message:""}},s.handleChange=s.handleChange.bind(Object(h.a)(s)),s.handleRequest=s.handleRequest.bind(Object(h.a)(s)),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){localStorage.removeItem("user")}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(x.a)({},a,s))}},{key:"handleRequest",value:function(e){var t=this;e.preventDefault();var a=this.state,s=a.email,n=a.requesting;s&&!n&&this.setState({requesting:!0},(function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/users/reqPwd"),e).then((function(e){return e.text().then((function(a){t.setState({requesting:!1},(function(){var s=a&&JSON.parse(a),n=s&&s.message||e.statusText;401===e.status?(localStorage.removeItem("user"),window.location.reload()):t.setState({alert:{type:200===e.status?"alert-success":"alert-danger",message:n}})}))}))}))}))}},{key:"render",value:function(){var e=this.state,t=e.alert,a=e.email,s=e.requesting;return Object(C.jsx)("div",{id:"requestpwd-card",className:"row justify-content-center align-self-center",children:Object(C.jsx)("div",{className:"card card-login",children:Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("img",{src:N,className:"img-fluid",alt:"Van Leeuwen Pipe and Tube"}),Object(C.jsx)("br",{}),Object(C.jsx)("img",{src:D,className:"img-fluid mt-2",alt:"Reconciliation Database"}),Object(C.jsx)("hr",{}),Object(C.jsx)("p",{children:'Please provide your email address and we"ll send you instructions on how to change your password.'}),Object(C.jsxs)("form",{name:"form",onSubmit:this.handleRequest,children:[Object(C.jsx)(y,{title:"Email",name:"email",type:"email",value:a,onChange:this.handleChange,placeholder:"Email",icon:"user",requesting:s,autoComplete:"email"}),Object(C.jsx)("hr",{}),Object(C.jsx)("button",{type:"submit",className:"btn btn-sm btn-block btn-leeuwen",children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:s?"spinner":"hand-point-right",className:s?"fa-pulse fa-fw fa mr-2":"fa mr-2"}),"Submit"]})}),Object(C.jsx)(j.c,{to:{pathname:"/login"},className:"btn btn-link btn-sm",tag:"a",children:" Go back to login page"}),Object(C.jsx)("br",{}),t.message&&Object(C.jsx)("div",{className:"alert ".concat(t.type),children:t.message})]})]})})})}}]),a}(s.Component),_=a(37),I=a.n(_),P=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={user:{userId:"",token:"",newPwd:""},resetting:!1,alert:{type:"",message:""}},s.handleChange=s.handleChange.bind(Object(h.a)(s)),s.handleReset=s.handleReset.bind(Object(h.a)(s)),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location,t=this.state.user;console.log(e.search);var a=I.a.parse(e.search);a.id&&a.token&&this.setState({user:Object(i.a)(Object(i.a)({},t),{},{userId:a.id,token:a.token})}),localStorage.removeItem("user")}},{key:"handleChange",value:function(e){var t=this.state.user,a=e.target,s=a.name,n=a.value;this.setState({user:Object(i.a)(Object(i.a)({},t),{},Object(x.a)({},s,n))})}},{key:"handleReset",value:function(e){var t=this;e.preventDefault();var a=this.state,s=a.user,n=a.resetting;console.log("user.userId:",s.userId),console.log("user.token:",s.token),console.log("user.newPwd:",s.newPwd),console.log("resetting:",n),s.userId&&s.token&&s.newPwd&&!n&&this.setState({resetting:!0},(function(){var e={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s.token,newPwd:s.newPwd})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/users/resetPwd/").concat(s.userId),e).then((function(e){return e.text().then((function(a){t.setState({resetting:!1},(function(){var s=a&&JSON.parse(a),n=s&&s.message||e.statusText;401===e.status?(localStorage.removeItem("user"),window.location.reload()):t.setState({alert:{type:200===e.status?"alert-success":"alert-danger",message:n}})}))}))}))}))}},{key:"render",value:function(){var e=this.state,t=e.alert,a=e.user,s=e.resetting;return Object(C.jsx)("div",{id:"resetpwd-card",className:"row justify-content-center align-self-center",children:Object(C.jsx)("div",{className:"card card-login",children:Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("img",{src:N,className:"img-fluid",alt:"Van Leeuwen Pipe and Tube"}),Object(C.jsx)("br",{}),Object(C.jsx)("img",{src:D,className:"img-fluid mt-2",alt:"Reconciliation Database"}),Object(C.jsx)("hr",{}),Object(C.jsx)("p",{children:"Type you new password."}),Object(C.jsxs)("form",{name:"form",onSubmit:this.handleReset,children:[Object(C.jsx)(y,{title:"New Password",name:"newPwd",type:"password",value:a.newPwd,onChange:this.handleChange,placeholder:"New Password",icon:"lock",resetting:s,autoComplete:"new-password",required:!0}),Object(C.jsx)("hr",{}),Object(C.jsx)("button",{type:"submit",className:"btn btn-sm btn-block btn-leeuwen",children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:s?"spinner":"hand-point-right",className:s?"fa-pulse fa-fw fa mr-2":"fa mr-2"}),"Reset"]})}),Object(C.jsx)(j.c,{to:{pathname:"/login"},className:"btn btn-link",tag:"a",children:"Go back to login page"}),Object(C.jsx)("br",{}),t.message&&Object(C.jsx)("div",{className:"alert ".concat(t.type),children:t.message})]})]})})})}}]),a}(n.a.Component),T=Object(b.h)(P);function E(){var e=Object(b.g)();return Object(C.jsxs)("article",{children:[Object(C.jsx)("header",{children:Object(C.jsx)("h2",{children:"#404 Page Not Found"})}),Object(C.jsxs)("p",{children:["The requested URL ",Object(C.jsx)("code",{children:e.pathname})," could not found be on this server."]})]})}var R=a(16),W=a(4),U=a.n(W);function F(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:e.token}:{}}var z=a(11),L=a.n(z);function H(e){if(e&&!L.a.isEmpty(e)){var t,a={};for(t in e)a[t]=e[t];return a}return{}}function M(e){return Math.floor((e-53)/33)}function K(e,t){return e.filter((function(e){return e!==t}))}a(70);var B=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.checked,a=e.onChange;return Object(C.jsx)("th",{style:{width:"30px",minWidth:"30px",alignItems:"center",justifyContent:"center"},children:Object(C.jsxs)("label",{className:"fancy-table-selection-all-row",style:{margin:"0px"},children:[Object(C.jsx)("input",{type:"checkbox",name:"fieldValue",checked:t,onChange:a}),Object(C.jsx)(f.a,{icon:"check",className:"checked fa-lg",style:{color:"#0070C0",padding:"auto",textAlign:"center",width:"100%",margin:"0px",verticalAlign:"middle",cursor:"pointer"}}),Object(C.jsx)(f.a,{icon:"check",className:"unchecked fa-lg",style:{color:"#adb5bd",padding:"auto",textAlign:"center",width:"100%",margin:"0px",verticalAlign:"middle",cursor:"pointer"}})]})})}}]),a}(s.Component),q=(a(71),function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={fieldValue:!1},s.onChange=s.onChange.bind(Object(h.a)(s)),s}return Object(d.a)(a,[{key:"onChange",value:function(e){var t=this.props,a=t.callback,s=t.id;this.setState({fieldValue:e.target.checked},(function(){return a(s)}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.selectAllRows,s=t.selectedRows,n=t.id;a!==e.selectAllRows&&this.setState({fieldValue:a}),s!==e.selectedRows&&(s.includes(n)?this.setState({fieldValue:!0}):this.setState({fieldValue:!1}))}},{key:"render",value:function(){var e=this.state.fieldValue;return Object(C.jsx)("th",{style:{width:"30px",minWidth:"30px",alignItems:"center",justifyContent:"center"},children:Object(C.jsxs)("label",{className:"fancy-table-selection-row",style:{margin:"0px"},children:[Object(C.jsx)("input",{type:"checkbox",name:"fieldValue",checked:e,onChange:this.onChange}),Object(C.jsx)(f.a,{icon:"check",className:"checked fa-lg",style:{color:"#0070C0",padding:"auto",textAlign:"center",width:"100%",margin:"0px",verticalAlign:"middle",cursor:"pointer"}}),Object(C.jsx)(f.a,{icon:"check",className:"unchecked fa-lg",style:{color:"#adb5bd",padding:"auto",textAlign:"center",width:"100%",margin:"0px",verticalAlign:"middle",cursor:"pointer"}})]})})}}]),a}(s.Component)),J=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={clientXStart:0,parentWidth:0},s.onDragStart=s.onDragStart.bind(Object(h.a)(s)),s.onDragEnd=s.onDragEnd.bind(Object(h.a)(s)),s}return Object(d.a)(a,[{key:"onDragStart",value:function(e){this.setState({clientXStart:e.clientX,parentWidth:e.target.parentElement.offsetWidth})}},{key:"onDragEnd",value:function(e){var t=this.props,a=t.index,s=t.setColWidth,n=this.state,c=n.clientXStart,o=n.parentWidth,i=e.clientX-c;s(a,Math.max(o+i,10))}},{key:"render",value:function(){var e=this,t=this.props,a=t.title,s=t.name,n=t.width,c=t.textNoWrap,o=t.sort,i=t.toggleSort,l=t.index,r=t.settingsColWidth,d=t.colDoubleClick;return Object(C.jsxs)("th",{style:{width:"".concat(n||"auto"),whiteSpace:"".concat(c?"nowrap":"auto"),padding:"0px"},children:[Object(C.jsxs)("div",{role:"button",className:"btn-header",onClick:function(e){return i(e,s)},children:[Object(C.jsx)("span",{className:"btn-header-title no-select",style:{textOverflow:"ellipsis",overflow:"hidden",minWidth:r.hasOwnProperty(l)?r[l]?"".concat(r[l],"px"):"10px":0,maxWidth:r.hasOwnProperty(l)?r[l]?"".concat(r[l],"px"):"35px":"none"},children:a}),Object(C.jsx)("span",{className:"btn-header-icon",children:o.name===s&&o.isAscending?Object(C.jsx)(f.a,{icon:"sort-up",className:"btn-header-icon__icon"}):o.name===s&&!o.isAscending&&Object(C.jsx)(f.a,{icon:"sort-down",className:"btn-header-icon__icon"})})]}),Object(C.jsx)("div",{id:"draggable-column",role:"button",style:{position:"absolute",top:"0px",bottom:"0px",right:"0px",width:"3px",height:"auto",zIndex:"2",cursor:"col-resize"},draggable:!0,onDragStart:function(t){return e.onDragStart(t)},onDragEnd:function(t){return e.onDragEnd(t)},onDoubleClick:function(e){return d(e,l)}})]})}}]),a}(n.a.Component),V=a(38),X=a.n(V);function G(e,t,a){switch(t){case"date":return e?String(X.a.utc(e).format(a)):"";case"number":return e?String((new Intl.NumberFormat).format(Math.round(100*(e+Number.EPSILON))/100)):0;default:return e||""}}var Y=Intl.DateTimeFormat().resolvedOptions().locale,Z={year:"numeric",month:"2-digit",day:"2-digit",timeZone:"GMT"};function Q(){return Intl.DateTimeFormat(Y,Z).formatToParts().reduce((function(e,t){switch(t.type){case"day":return e+"DD";case"month":return e+"MM";case"year":return e+"YYYY";case"literal":return e+t.value;default:return e}}),"")}var $=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.colIndex,a=e.value,s=e.type,n=e.align,c=e.settingsColWidth,o=e.handleClick,i=e.handleDownlaod,l=e.eventId;return Object(C.jsx)("td",{style:{width:"auto",whiteSpace:"nowrap",paddingLeft:"5px",textOverflow:"ellipsis",textAlign:n||"left",overflow:"hidden",minWidth:L.a.isUndefined(c)||!c.hasOwnProperty(t)?0:c[t]?"".concat(c[t],"px"):"10px",maxWidth:L.a.isUndefined(c)||!c.hasOwnProperty(t)?"none":c[t]?"".concat(c[t],"px"):"35px"},onClick:function(e){return o&&l&&"complete"!==a?o(e,l):e.preventDefault()},children:i&&l&&"complete"===a?Object(C.jsx)("button",{type:"button",className:"btn btn-sm btn-link p-0 shadow-none",onClick:function(e){return i(e,l)},children:"Download"}):G(a,s,Q())})}}]),a}(n.a.Component),ee=(a(72),function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={checked:!1,updating:!1},s.handleChange=s.handleChange.bind(Object(h.a)(s)),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.checked;this.setState({checked:e})}},{key:"componentDidUpdate",value:function(e,t){var a=this.props.checked;a!==e.checked&&this.setState({checked:a})}},{key:"handleChange",value:function(e){var t=this;e.preventDefault();var a=this.state.checked,s=this.props,n=s._id,c=s.refreshStore,o=s.setAlert;this.setState({updating:!0},(function(){var e={method:"PUT",headers:Object(i.a)(Object(i.a)({},F()),{},{"Content-Type":"application/json"}),body:JSON.stringify({isAdmin:!a})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/users/setAdmin/").concat(n),e).then((function(e){return e.text().then((function(s){t.setState({updating:!1},(function(){var n=s&&JSON.parse(s),i=n&&n.message||e.statusText;401===e.status?(localStorage.removeItem("user"),window.location.reload(!0)):t.setState({checked:200!==e.status?a:!a},(function(){c(),200!==e.status&&o(200!==e.status?"alert-danger":"alert-success",i)}))}))}))}))}))}},{key:"render",value:function(){var e=this,t=this.state.checked,a=this.props.disabled;return Object(C.jsxs)("label",{className:"fancy-table-check-box-admin","data-type":"checkbox",children:[Object(C.jsx)("input",{name:"isAdmin",type:"checkbox",checked:t,onChange:function(t){return e.handleChange(t)},disabled:a,"data-type":"checkbox"}),Object(C.jsx)(f.a,{"data-type":"checkbox",icon:"check-square",className:"checked fa-lg",style:{color:a?"#adb5bd":"#0070C0",padding:"auto",textAlign:"center",width:"100%",margin:"0px",verticalAlign:"middle",cursor:a?"auto":"pointer"}}),Object(C.jsx)(f.a,{"data-type":"checkbox",icon:["far","square"],className:"unchecked fa-lg",style:{color:a?"#adb5bd":"#0070C0",padding:"auto",textAlign:"center",width:"100%",margin:"0px",verticalAlign:"middle",cursor:a?"auto":"pointer"}})]})}}]),a}(s.Component)),te=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={show:!1},s.togglePassword=s.togglePassword.bind(Object(h.a)(s)),s}return Object(d.a)(a,[{key:"togglePassword",value:function(e){e.preventDefault();var t=this.state.show;this.setState({show:!t})}},{key:"render",value:function(){var e=this,t=this.state.show,a=this.props,s=a.inline,n=a.value,c=a.name,o=a.title,i=a.type,l=a.onChange,r=a.placeholder,d=a.disabled,h=a.autoComplete;return Object(C.jsxs)("div",{className:"form-group"+(s?" row":""),children:[Object(C.jsx)("label",{htmlFor:c,className:s?"col-sm-2 col-form-label":"",children:o}),Object(C.jsx)("div",{className:s?"col-sm-10":"",children:Object(C.jsxs)("div",{className:"input-group input-group-lg input-group-sm",children:[Object(C.jsx)("input",{className:"form-control",id:c,name:c,type:t?"text":i,value:n,onChange:l,placeholder:r,disabled:d,autoComplete:h}),"password"===i&&Object(C.jsx)("div",{className:"input-group-append",children:Object(C.jsx)("div",{type:"button",className:"input-group-text",onClick:function(t){return e.togglePassword(t)},children:Object(C.jsx)(f.a,{icon:t?"eye-slash":"eye"})})})]})})]})}}]),a}(s.Component),ae=(a(73),function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=!1;try{e=JSON.parse(localStorage.getItem("user")).isAdmin}catch(a){}var t=this.props.collapsed;return Object(C.jsx)("div",{children:Object(C.jsx)("div",{className:t?"header-bar-menu collapsed":"header-bar-menu",children:Object(C.jsxs)("nav",{className:t?"navbar navbar-expand-lg navbar-light bg-light sticky-top collapsed":"navbar navbar-expand-lg navbar-light bg-light sticky-top",children:[Object(C.jsx)("span",{className:t?"navbars collapsed":"navbars",onClick:this.props.toggleCollapse,children:Object(C.jsx)("span",{children:Object(C.jsx)(f.a,{icon:"bars",className:"fa-lg"})})}),Object(C.jsxs)("form",{className:"form-inline ml-auto pull-right",children:[Object(C.jsx)(j.c,{to:"/user",children:Object(C.jsx)("button",{className:"btn btn-outline-leeuwen-blue btn-round",title:"User-Page",children:Object(C.jsx)("span",{children:Object(C.jsx)(f.a,{icon:"user",className:"fa-lg"})})})}),e&&Object(C.jsx)(j.c,{to:"/settings",children:Object(C.jsx)("button",{className:"btn btn-outline-leeuwen-blue btn-round",title:"Settings",children:Object(C.jsx)("span",{children:Object(C.jsx)(f.a,{icon:"cog",className:"fa-lg"})})})}),Object(C.jsx)(j.c,{to:"/login",children:Object(C.jsx)("button",{className:"btn btn-outline-leeuwen btn-round",title:"Log-Out",children:Object(C.jsx)("span",{children:Object(C.jsx)(f.a,{icon:"sign-out-alt",className:"fa-lg"})})})})]})]})})})}}]),a}(n.a.Component)),se=a.p+"static/media/icon.cd1d9eaf.svg",ne=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.item,a=e.menuItem,s=e.show;return Object(C.jsxs)("li",{children:[Object(C.jsxs)(j.c,{to:{pathname:t.href},tag:"a",className:"".concat(t.title===a?"menu-item__selected":"menu-item"),children:[Object(C.jsx)(f.a,{icon:t.icon,className:"item-icon",name:t.icon}),Object(C.jsxs)("span",{className:"item-text",style:{marginLeft:45},children:[t.title,t.child&&Object(C.jsx)(f.a,{icon:"angle-right"})]})]}),t.child&&Object(C.jsx)("div",{className:"dropdown",children:Object(C.jsx)("div",{className:"show-animation ".concat(s===t.title&&"active"),children:Object(C.jsx)("ul",{className:"".concat(s===t.title?"show-animation-enter-active":"show-animation-leave-active"),children:t.child.map((function(e){return Object(C.jsx)(ne,{item:e},e.id)}))})})})]})}}]),a}(n.a.Component),ce=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={show:!0},s}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.menuItem,a=e.item,s=e.collapsed,n=e.show;return Object(C.jsxs)("li",{children:[Object(C.jsxs)(j.c,{to:{pathname:a.href},tag:"a",className:"".concat(a.title===t?"menu-item__selected":"menu-item"),children:[Object(C.jsx)(f.a,{icon:a.icon,className:"item-icon",name:a.icon}),Object(C.jsxs)("span",{className:"item-text",children:[a.title,a.child&&Object(C.jsx)(f.a,{icon:"angle-right",className:"item-arrow ".concat(n===a.title&&"expand"," float-right"),style:{margin:"0px",verticalAlign:"middle"}})]})]}),!s&&a.child&&Object(C.jsx)("div",{className:"dropdown",children:Object(C.jsx)("div",{className:"show-animation ".concat(n===a.title&&"active"),children:Object(C.jsx)("ul",{className:"".concat(n===a.title?"show-animation-enter-active":"show-animation-leave-active"),children:a.child&&a.child.map((function(e){return Object(C.jsx)(ne,{item:e,menuItem:t},e.id)}))})})})]})}}]),a}(s.Component),oe=(a(74),function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={show:"",listMenu:[{id:0,title:"Stock",href:"/",icon:"warehouse"},{id:1,title:"Buy-Out",href:"/buyout",icon:"shopping-cart"},{id:2,title:"Export data",href:"/export",icon:"file-upload"},{id:3,title:"Import data",href:"/import",icon:"file-download"}]},s.handleItemOver=s.handleItemOver.bind(Object(h.a)(s)),s}return Object(d.a)(a,[{key:"handleItemOver",value:function(e,t){e.preventDefault(),this.setState({show:t})}},{key:"generateMenu",value:function(){var e=this,t=this.state,a=t.listMenu,s=t.show,n=this.props.menuItem,c=[];return a.map((function(t){return c.push(Object(C.jsx)(ce,{item:t,menuItem:n,show:s,handleItemOver:e.handleItemOver},t.id))})),c}},{key:"render",value:function(){var e=this.props.collapsed;return Object(C.jsx)("div",{children:null!==localStorage.getItem("user")&&Object(C.jsxs)("div",{id:"sidebar-menu",className:e?"collapsed":void 0,children:[Object(C.jsx)(j.c,{to:{pathname:"/"},tag:"div",className:"sidebar-logo",children:Object(C.jsx)("img",{alt:"logo",src:e?se:N})}),Object(C.jsx)("ul",{className:"default-list menu-list",children:this.generateMenu()}),Object(C.jsx)("button",{className:"collapse-btn",onClick:this.props.toggleCollapse,children:Object(C.jsx)(f.a,{icon:"arrows-alt-h",name:"arrows-alt-h"})})]})})}}]),a}(n.a.Component));a(75);function ie(){return Object(C.jsx)("div",{children:Object(C.jsx)("footer",{className:"footer fixed-bottom bg-light text-right",children:Object(C.jsxs)("span",{className:"text-muted no-select footer-text mr-3",children:["\xa9 ",(new Date).getFullYear()," - Van Leeuwen Pipe and Tube. All rights reserved (v0.1.0) - ","production"]})})})}var le=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.menuItem,a=e.collapsed,s=e.toggleCollapse;return Object(C.jsx)("div",{className:"full-height",children:Object(C.jsxs)("div",{className:"full-height",children:[Object(C.jsx)(ae,{id:"headerbar",className:a?"collapsed":"",collapsed:a,toggleCollapse:s}),Object(C.jsx)(oe,{className:a?"collapsed":"",menuItem:t,collapsed:a,toggleCollapse:s}),Object(C.jsx)("div",{id:"content",className:a?"collapsed":"",style:{height:"calc(100% - 100px)"},children:this.props.children}),Object(C.jsx)(ie,{})]})})}}]),a}(n.a.Component),re=(a(76),function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return this.props.show?Object(C.jsx)("div",{className:"modal",tabIndex:"-1",role:"dialog",style:{display:"block",overflowY:"auto"},children:Object(C.jsx)("div",{className:"modal-dialog".concat(this.props.size?" "+this.props.size:"").concat(this.props.centered?" modal-dialog-centered":""),role:"document",children:Object(C.jsxs)("div",{className:"modal-content",children:[Object(C.jsxs)("div",{className:"modal-header",children:[Object(C.jsx)("h5",{className:"modal-title",children:this.props.title}),Object(C.jsx)("button",{type:"button",className:"close",onClick:this.props.hideModal,"data-dismiss":"modal","aria-label":"Close",children:Object(C.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(C.jsx)("div",{className:"modal-body",children:this.props.children})]})})}):null}}]),a}(n.a.Component)),de=(a(77),function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.currentPage,a=e.pageLast,s=e.first,n=e.second,c=e.third,o=e.firstItem,i=e.lastItem,l=e.pageItems,r=e.totalItems,d=e.changePage;return Object(C.jsxs)("div",{className:"pagination-row row ml-1 mr-1",children:[Object(C.jsx)("div",{className:"pagination-col col",children:Object(C.jsx)("nav",{"aria-label":"Page navigation",className:"pagination-nav",children:Object(C.jsxs)("ul",{className:"pagination",children:[Object(C.jsx)("li",{className:1===t?"page-item disabled":"page-item",children:Object(C.jsx)("button",{className:"page-link",onClick:function(e){return d(e,t-1)},children:"Previous"})}),Object(C.jsx)("li",{className:"page-item".concat(t===s&&" active"),children:Object(C.jsx)("button",{className:"page-link",onClick:function(e){return d(e,s)},children:s})}),Object(C.jsx)("li",{className:"page-item".concat(t===n?" active":a<2&&" disabled"),children:Object(C.jsx)("button",{className:"page-link",onClick:function(e){return d(e,n)},children:n})}),Object(C.jsx)("li",{className:"page-item".concat(t===c?" active":a<3&&" disabled"),children:Object(C.jsx)("button",{className:"page-link",onClick:function(e){return d(e,c)},children:c})}),Object(C.jsx)("li",{className:t===a?"page-item disabled":"page-item",children:Object(C.jsx)("button",{className:"page-link",onClick:function(e){return d(e,t+1)},children:"Next"})})]})})}),Object(C.jsxs)("div",{className:"col text-right displaying",children:["Displaying",Object(C.jsxs)("b",{children:[" ",o," - ",i," "]}),Object(C.jsxs)("i",{children:["(",l,")"]})," entries out of ",r]})]})}}]),a}(s.Component)),he=a(29),pe=(a(78),function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,a=e.handleNextDropdown,s=document.getElementById("list_".concat(t));s.addEventListener("scroll",(function(e){s.scrollTop/(s.scrollHeight-s.clientHeight)>.9&&a(t)}))}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.focused,s=e.value,n=e.placeholder,c=e.onChange,o=e.onFocus,i=e.onHover,l=e.options,r=e.hover,d=e.selection,h=e.handleSelect,p=e.toggleDropDown;return Object(C.jsxs)("div",{className:"col",children:[Object(C.jsx)("label",{className:L.a.isEqual(a,t)||d?"drop-label small":"drop-label",htmlFor:t,children:n}),Object(C.jsx)("p",{className:"drop-p",hidden:!!L.a.isEqual(a,t)||""===d,children:d}),Object(C.jsxs)("div",{className:"form-group drop-form-group",children:[Object(C.jsx)("input",{type:"text",className:"form-control drop-form-control",id:t,name:t,value:s,onChange:c,onFocus:o}),Object(C.jsx)("div",{type:"button",className:"mdb-icon drop-mdb-icon",onClick:function(e){return p(e,t)},children:Object(C.jsx)("svg",{children:Object(C.jsx)(f.a,{icon:L.a.isEqual(a,t)||d?he.b:he.a})})}),Object(C.jsx)("ul",{id:"list_".concat(t),className:!L.a.isEmpty(l)&&L.a.isEqual(a,t)?"drop-ul_visible":"drop-ul",children:l.map((function(e,a){return Object(C.jsx)("li",{type:"button",onMouseEnter:function(a){return i(a,t,e)},onClick:function(a){return h(a,t,e)},className:e===r?"drop-li_selected":"drop-li",selected:e===r?"selected":"",children:e},a)}))})]})]})}}]),a}(s.Component)),ue=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={currentUser:{},element:{},elements:[],sort:{name:"",isAscending:!0},dropdown:{name:"",email:"",isAdmin:""},params:{name:{value:"",placeholder:"Name",options:[],hover:"",page:0},email:{value:"",placeholder:"Email",options:[],hover:"",page:0},isAdmin:{value:"",placeholder:"isAdmin",options:[],hover:"",page:0}},focused:"",alert:{type:"",message:""},selectAllRows:!1,selectedRows:[],retrieving:!1,exporting:!1,upserting:!1,loading:!1,loaded:!1,submitted:!1,showSearch:!1,showUser:!1,menuItem:"",settingsColWidth:{},paginate:{pageSize:0,currentPage:1,firstItem:0,lastItem:0,pageItems:0,pageLast:1,totalItems:0,first:1,second:2,third:3}},s.resize=s.resize.bind(Object(h.a)(s)),s.handleClearAlert=s.handleClearAlert.bind(Object(h.a)(s)),s.setAlert=s.setAlert.bind(Object(h.a)(s)),s.toggleSort=s.toggleSort.bind(Object(h.a)(s)),s.toggleModalSearch=s.toggleModalSearch.bind(Object(h.a)(s)),s.showModal=s.showModal.bind(Object(h.a)(s)),s.hideModal=s.hideModal.bind(Object(h.a)(s)),s.handleChangeUser=s.handleChangeUser.bind(Object(h.a)(s)),s.handleClearFields=s.handleClearFields.bind(Object(h.a)(s)),s.getDropdownOptions=s.getDropdownOptions.bind(Object(h.a)(s)),s.handleChangeDropdown=s.handleChangeDropdown.bind(Object(h.a)(s)),s.handleNextDropdown=s.handleNextDropdown.bind(Object(h.a)(s)),s.handleSelectDropdown=s.handleSelectDropdown.bind(Object(h.a)(s)),s.onFocusDropdown=s.onFocusDropdown.bind(Object(h.a)(s)),s.onHoverDropdown=s.onHoverDropdown.bind(Object(h.a)(s)),s.toggleDropDown=s.toggleDropDown.bind(Object(h.a)(s)),s.toggleSelectAllRow=s.toggleSelectAllRow.bind(Object(h.a)(s)),s.updateSelectedRows=s.updateSelectedRows.bind(Object(h.a)(s)),s.getDocuments=s.getDocuments.bind(Object(h.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(h.a)(s)),s.handleDelete=s.handleDelete.bind(Object(h.a)(s)),s.handleOnclick=s.handleOnclick.bind(Object(h.a)(s)),s.colDoubleClick=s.colDoubleClick.bind(Object(h.a)(s)),s.setColWidth=s.setColWidth.bind(Object(h.a)(s)),s.changePage=s.changePage.bind(Object(h.a)(s)),s.generateBody=s.generateBody.bind(Object(h.a)(s)),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.paginate,a=JSON.parse(localStorage.getItem("user")),s=document.getElementById("table-container");a?this.setState({currentUser:a,paginate:Object(i.a)(Object(i.a)({},t),{},{pageSize:M(s.clientHeight)})},(function(){return e.getDocuments()})):(localStorage.removeItem("user"),window.location.reload(!0))}},{key:"resize",value:function(){var e=this,t=this.state.paginate,a=document.getElementById("table-container");this.setState({paginate:Object(i.a)(Object(i.a)({},t),{},{pageSize:M(a.clientHeight)})},(function(){return e.getDocuments()}))}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,s=a.sort,n=a.dropdown,c=a.paginate,o=a.elements,i=a.selectedRows;if((s!==t.sort||n!==t.dropdown||c.pageSize!==t.paginate.pageSize&&0!==t.paginate.pageSize)&&this.getDocuments(),this.state.params.name.value!==t.params.name.value&&this.getDropdownOptions("name",0),this.state.params.email.value!==t.params.email.value&&this.getDropdownOptions("email",0),this.state.params.isAdmin.value!==t.params.isAdmin.value&&this.getDropdownOptions("isAdmin",0),o!==t.elements){var l=i.reduce((function(e,t){var a=o.find((function(e){return L.a.isEqual(e._id,t)}));return L.a.isUndefined(a)||e.push(t),e}),[]);this.setState({selectedRows:l,selectAllRows:!1})}}},{key:"handleClearAlert",value:function(e){e.preventDefault(),this.setState({alert:{type:"",message:""}})}},{key:"setAlert",value:function(e,t){this.setState({alert:{type:e,message:t}})}},{key:"toggleSort",value:function(e,t){e.preventDefault();var a=this.state.sort;a.name!==t?this.setState({sort:{name:t,isAscending:!0}}):a.isAscending?this.setState({sort:{name:t,isAscending:!1}}):this.setState({sort:{name:"",isAscending:!0}})}},{key:"toggleModalSearch",value:function(){var e=this.state.showSearch;this.setState({showSearch:!e})}},{key:"showModal",value:function(){this.setState({element:{name:"",email:""},showUser:!0})}},{key:"hideModal",value:function(){this.setState({element:{name:"",email:""},submitted:!1,showUser:!1})}},{key:"handleChangeUser",value:function(e){var t=e.target,a=t.name,s=t.value,n=this.state.element;this.setState({element:Object(i.a)(Object(i.a)({},n),{},Object(x.a)({},a,s))})}},{key:"getDocuments",value:function(e){var t=this,a=this.state,s=a.paginate,n=a.sort,c=a.dropdown;s.pageSize&&this.setState({retrieving:!0},(function(){var a={method:"POST",headers:Object(i.a)(Object(i.a)({},F()),{},{"Content-Type":"application/json"}),body:JSON.stringify({sort:n,dropdown:c,nextPage:e,pageSize:s.pageSize})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/users/getAll"),a).then((function(e){return e.text().then((function(a){t.setState({retrieving:!1},(function(){var n=a&&JSON.parse(a),c=n&&n.message||e.statusText;401===e.status?(localStorage.removeItem("user"),window.location.reload(!0)):200!==e.status?t.setState({alert:{type:"alert-danger",message:c}}):t.setState({elements:n[0].data,paginate:Object(i.a)(Object(i.a)({},s),n[0].paginate)})}))}))})).catch((function(){localStorage.removeItem("user"),window.location.reload(!0)}))}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,s=a.element,n=a.upserting;s.name&&s.email&&!n&&this.setState({upserting:!0},(function(){var e={method:s._id?"PUT":"POST",headers:Object(i.a)(Object(i.a)({},F()),{},{"Content-Type":"application/json"}),body:JSON.stringify({name:s.name,email:s.email})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/users/").concat(s._id?s._id:""),e).then((function(e){return e.text().then((function(a){t.setState({upserting:!1},(function(){var s=a&&JSON.parse(a),n=s&&s.message||e.statusText;401===e.status?(localStorage.removeItem("user"),window.location.reload(!0)):t.setState({alert:{type:200!==e.status?"alert-danger":"alert-success",message:n}},(function(){t.getDocuments(),t.hideModal()}))}))}))})).catch((function(){localStorage.removeItem("user"),window.location.reload(!0)}))}))}},{key:"handleDelete",value:function(e,t){var a=this;e.preventDefault();var s=this.state.deleting;t&&!s&&this.setState({deleting:!0},(function(){var e={method:"DELETE",headers:F()};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/users/").concat(t),e).then((function(e){return e.text().then((function(t){a.setState({deleting:!1},(function(){var s=t&&JSON.parse(t),n=s&&s.message||e.statusText;401===e.status?(localStorage.removeItem("user"),window.location.reload(!0)):a.setState({alert:{type:200!==e.status?"alert-danger":"alert-success",message:n}},(function(){a.getDocuments(),a.hideModal()}))}))}))}))}))}},{key:"handleOnclick",value:function(e,t){e.preventDefault();var a=this.state,s=a.elements,n=a.currentUser,c=s.find((function(e){return L.a.isEqual(e._id,t)}));!L.a.isUndefined(c)&&n.isAdmin&&this.setState({element:{_id:c._id,name:c.name,email:c.email},showUser:!0})}},{key:"colDoubleClick",value:function(e,t){e.preventDefault();var a=this.state.settingsColWidth;if(a.hasOwnProperty(t)){var s=H(a);delete s[t],this.setState({settingsColWidth:s})}else this.setState({settingsColWidth:Object(i.a)(Object(i.a)({},a),{},Object(x.a)({},t,10))})}},{key:"setColWidth",value:function(e,t){var a=this.state.settingsColWidth;this.setState({settingsColWidth:Object(i.a)(Object(i.a)({},a),{},Object(x.a)({},e,t))})}},{key:"changePage",value:function(e,t){e.preventDefault();var a=this.state.paginate;t>0&&t<a.pageLast+1&&this.getDocuments(t)}},{key:"toggleSelectAllRow",value:function(){var e=this.state,t=e.selectAllRows,a=e.elements;L.a.isEmpty(a)||(t?this.setState({selectedRows:[],selectAllRows:!1}):this.setState({selectedRows:a.map((function(e){return e._id})),selectAllRows:!0}))}},{key:"updateSelectedRows",value:function(e){var t=this.state.selectedRows;t.includes(e)?this.setState({selectedRows:K(t,e)}):this.setState({selectedRows:[].concat(Object(R.a)(t),[e])})}},{key:"generateBody",value:function(){var e=this,t=this.state,a=t.elements,s=t.retrieving,n=t.currentUser,c=t.paginate,o=t.settingsColWidth,i=t.selectAllRows,l=t.selectedRows,r=[];if(L.a.isEmpty(a)&&s)for(var d=0;d<c.pageSize;d++)r.push(Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})})]},d));else a.map((function(t){r.push(Object(C.jsxs)("tr",{children:[Object(C.jsx)(q,{id:t._id,selectAllRows:i,selectedRows:l,callback:e.updateSelectedRows}),Object(C.jsx)($,{colIndex:"1",value:t.name,type:"text",settingsColWidth:o,handleClick:e.handleOnclick,eventId:t._id}),Object(C.jsx)($,{colIndex:"2",value:t.email,type:"text",settingsColWidth:o,handleClick:e.handleOnclick,eventId:t._id}),Object(C.jsx)("td",{"data-type":"checkbox",children:Object(C.jsx)(ee,{_id:t._id,checked:t.isAdmin||!1,refreshStore:e.getDocuments,setAlert:e.setAlert,disabled:!(!L.a.isEqual(n._id,t._id)&&n.isAdmin),"data-type":"checkbox"})})]},t._id))}));return r}},{key:"handleClearFields",value:function(e){e.preventDefault(),this.setState({sort:{name:"",isAscending:!0},dropdown:{name:"",email:"",isAdmin:""},params:{name:{value:"",placeholder:"Name",options:[],hover:"",page:0},email:{value:"",placeholder:"Email",options:[],hover:"",page:0},isAdmin:{value:"",placeholder:"isAdmin",options:[],hover:"",page:0}},focused:""})}},{key:"getDropdownOptions",value:function(e,t){var a=this,s=this.state,n=s.focused,c=s.sort,o=s.dropdown;this.setState({loading:!0},(function(){var s={method:"POST",headers:Object(i.a)(Object(i.a)({},F()),{},{"Content-Type":"application/json"}),body:JSON.stringify({sort:c,dropdown:o,name:a.state.params[e].value,page:t||0})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/users/getDrop/").concat(e),s).then((function(s){return s.text().then((function(c){a.setState({loading:!1},(function(){var o=c&&JSON.parse(c);200===s.status&&a.setState({params:Object(i.a)(Object(i.a)({},a.state.params),{},Object(x.a)({},e,Object(i.a)(Object(i.a)({},a.state.params[e]),{},{options:e!==n?[]:0!==t?[].concat(Object(R.a)(a.state.params[e].options),Object(R.a)(o)):o,page:t})))})}))}))})).catch((function(){localStorage.removeItem("user"),window.location.reload(!0)}))}))}},{key:"handleNextDropdown",value:function(e){var t=this;this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},e,Object(i.a)(Object(i.a)({},this.state.params[e]),{},{page:this.state.params[e].page+1})))},(function(){t.getDropdownOptions(e,t.state.params[e].page)}))}},{key:"handleChangeDropdown",value:function(e){e.preventDefault();var t=e.target,a=t.name,s=t.value;this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},a,Object(i.a)(Object(i.a)({},this.state.params[a]),{},{value:s}))),dropdown:Object(i.a)(Object(i.a)({},this.state.dropdown),{},Object(x.a)({},a,""))})}},{key:"handleSelectDropdown",value:function(e,t,a){e.preventDefault(),this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},t,Object(i.a)(Object(i.a)({},this.state.params[t]),{},{value:"",options:[],hover:""}))),dropdown:Object(i.a)(Object(i.a)({},this.state.dropdown),{},Object(x.a)({},t,a)),focused:""}),document.getElementById(t).blur()}},{key:"onFocusDropdown",value:function(e){var t,a=this,s=e.target.name,n=this.state.focused;n?this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},(t={},Object(x.a)(t,s,Object(i.a)(Object(i.a)({},this.state.params[s]),{},{options:[],value:this.state.dropdown[s],hover:""})),Object(x.a)(t,n,Object(i.a)(Object(i.a)({},this.state.params[n]),{},{options:[],value:"",hover:""})),t)),focused:s},(function(){return a.getDropdownOptions(s,0)})):this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},s,Object(i.a)(Object(i.a)({},this.state.params[s]),{},{options:[],value:this.state.dropdown[s],hover:""}))),focused:s},(function(){return a.getDropdownOptions(s,0)}))}},{key:"onHoverDropdown",value:function(e,t,a){e.preventDefault(),this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},t,Object(i.a)(Object(i.a)({},this.state.params[t]),{},{hover:a})))})}},{key:"toggleDropDown",value:function(e,t){e.preventDefault();var a=this.state,s=a.params,n=a.dropdown,c=a.focused;if(L.a.isEqual(c,t)||n[t]){this.setState({params:Object(i.a)(Object(i.a)({},s),{},Object(x.a)({},t,Object(i.a)(Object(i.a)({},s[t]),{},{options:[],value:"",hover:""}))),dropdown:Object(i.a)(Object(i.a)({},n),{},Object(x.a)({},t,"")),focused:""}),document.getElementById(t).blur()}else{var o=document.getElementById(t);o.focus(),o.select()}}},{key:"render",value:function(){var e=this,t=this.props,a=t.collapsed,s=t.toggleCollapse,n=this.state,c=n.alert,o=n.menuItem,i=n.element,l=n.sort,r=n.showSearch,d=n.showUser,h=n.settingsColWidth,p=n.upserting,u=n.deleting,j=n.selectAllRows,b=this.state,m=b.params,O=b.focused,g=b.dropdown,v=this.state.paginate,x=v.currentPage,w=v.firstItem,S=v.lastItem,y=v.pageItems,N=v.pageLast,D=v.totalItems,k=v.first,A=v.second,_=v.third;return Object(C.jsxs)(le,{collapsed:a,toggleCollapse:s,menuItem:o,children:[c.message&&Object(C.jsxs)("div",{className:"alert ".concat(c.type),children:[c.message,Object(C.jsx)("button",{className:"close",onClick:function(t){return e.handleClearAlert(t)},children:Object(C.jsx)("span",{"aria-hidden":"true",children:Object(C.jsx)(f.a,{icon:"times"})})})]}),Object(C.jsxs)("div",{id:"setting",className:c.message?"main-section-alert":"main-section",children:[Object(C.jsxs)("div",{className:"action-row row",children:[Object(C.jsxs)("button",{title:"Search",className:"btn btn-sm btn-leeuwen-blue mr-2",onClick:this.toggleModalSearch,children:[" ",Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"search",className:"fa mr-2"}),"Search"]})]}),Object(C.jsxs)("button",{title:"Create User",className:"btn btn-sm btn-leeuwen-blue",onClick:this.showModal,children:[" ",Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"plus",className:"fa mr-2"}),"Create User"]})]})]}),Object(C.jsxs)("div",{className:"body-section",children:[Object(C.jsxs)("div",{className:"row ml-1 mr-1",style:{height:"calc(100% - 40px)"},children:[" ",Object(C.jsx)("div",{id:"table-container",className:"table-responsive custom-table-container",children:Object(C.jsxs)("table",{className:"table table-hover table-bordered table-sm",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)(B,{checked:j,onChange:this.toggleSelectAllRow}),Object(C.jsx)(J,{type:"text",title:"Name",name:"name",sort:l,toggleSort:this.toggleSort,index:"0",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:h}),Object(C.jsx)(J,{type:"text",title:"Email",name:"email",sort:l,toggleSort:this.toggleSort,index:"1",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:h}),Object(C.jsx)(J,{type:"text",title:"isAdmin",name:"isAdmin",width:"80px",sort:l,toggleSort:this.toggleSort,index:"2",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:h})]})}),Object(C.jsx)("tbody",{className:"full-height",children:this.generateBody()})]})})]}),Object(C.jsx)(de,{currentPage:x,pageLast:N,first:k,second:A,third:_,firstItem:w,lastItem:S,pageItems:y,totalItems:D,changePage:this.changePage})]}),Object(C.jsxs)(re,{show:r,hideModal:this.toggleModalSearch,title:"Search",size:"modal-lg",children:[Object(C.jsx)("section",{id:"fields",className:"drop-section",children:Object(C.jsx)("div",{className:"row row-cols-1 row-cols-md-2",children:Object.keys(m).map((function(t){return Object(C.jsx)(pe,{name:t,isFocused:m[t].isFocused,focused:O,value:m[t].value,placeholder:m[t].placeholder,selection:g[t],options:m[t].options,hover:e.state.params[t].hover,page:m[t].page,onChange:e.handleChangeDropdown,handleNextDropdown:e.handleNextDropdown,handleSelect:e.handleSelectDropdown,onFocus:e.onFocusDropdown,onHover:e.onHoverDropdown,toggleDropDown:e.toggleDropDown},t)}))})}),Object(C.jsx)("div",{className:"modal-footer",children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("button",{className:"btn btn-sm btn-leeuwen",onClick:this.handleClearFields,children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"filter",className:"fa mr-2"}),"Clear Fields"]})}),Object(C.jsx)("button",{className:"btn btn-sm btn-leeuwen-blue ml-2",onClick:this.toggleModalSearch,children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"times",className:"fa mr-2"}),"Close"]})})]})})]}),Object(C.jsx)(re,{show:d,hideModal:this.hideModal,title:this.state.element._id?"Update user":"Add user",children:Object(C.jsx)("div",{className:"col-12",children:Object(C.jsxs)("form",{name:"form",onSubmit:this.handleSubmit,children:[Object(C.jsx)(te,{title:"Full Name",name:"name",type:"text",value:i.name,onChange:this.handleChangeUser,inline:!1,required:!0}),Object(C.jsx)(te,{title:"Email",name:"email",type:"email",value:i.email,onChange:this.handleChangeUser,inline:!1,required:!0}),Object(C.jsx)("div",{className:"modal-footer",children:this.state.element._id?Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("button",{className:"btn btn-sm btn-leeuwen",onClick:function(t){e.handleDelete(t,e.state.element._id)},children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:u?"spinner":"trash-alt",className:u?"fa-pulse fa-fw fa mr-2":"fa mr-2"}),"Delete"]})}),Object(C.jsx)("button",{type:"submit",className:"btn btn-sm btn-leeuwen-blue ml-2",children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:p?"spinner":"edit",className:p?"fa-pulse fa-fw fa mr-2":"fa mr-2"}),"Update"]})})]}):Object(C.jsx)("button",{type:"submit",className:"btn btn-sm btn-leeuwen-blue btn-full",children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:p?"spinner":"plus",className:p?"fa-pulse fa-fw fa mr-2":"fa mr-2"}),"Create"]})})})]})})})]})]})}}]),a}(n.a.Component),je=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={user:{},newPwd:"",alert:{type:"",message:""},show:!1,loading:!1,updating:!1,menuItem:""},s.handleClearAlert=s.handleClearAlert.bind(Object(h.a)(s)),s.handleChange=s.handleChange.bind(Object(h.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(h.a)(s)),s.togglePassword=s.togglePassword.bind(Object(h.a)(s)),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("user"));t&&t._id?this.setState({loading:!0},(function(){var a={method:"GET",headers:Object(i.a)(Object(i.a)({},F()),{},{"Content-Type":"application/json"})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/users/").concat(t._id),a).then((function(t){return t.text().then((function(a){e.setState({loading:!1},(function(){var s=a&&JSON.parse(a),n=s&&s.message||t.statusText;401===t.status?(localStorage.removeItem("user"),window.location.reload(!0)):200!==t.status?e.setState({alert:{type:"alert-danger",message:n}}):e.setState({user:s.user})}))})).catch((function(){localStorage.removeItem("user"),window.location.reload(!0)}))}))})):(localStorage.removeItem("user"),window.location.reload(!0))}},{key:"handleClearAlert",value:function(e){e.preventDefault(),this.setState({alert:{type:"",message:""}})}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,s=t.type,n=t.checked,c=t.value;this.setState(Object(x.a)({},a,"checkbox"===s?n:c))}},{key:"togglePassword",value:function(e){e.preventDefault();var t=this.state.show;this.setState({show:!t})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.newPwd;a&&this.setState({updating:!0},(function(){var e={method:"PUT",headers:Object(i.a)(Object(i.a)({},F()),{},{"Content-Type":"application/json"}),body:JSON.stringify({newPwd:a})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/users/updatePwd"),e).then((function(e){return e.text().then((function(a){t.setState({updating:!1},(function(){var s=a&&JSON.parse(a),n=s&&s.message||e.statusText;401===e.status?(localStorage.removeItem("user"),window.location.reload(!0)):t.setState({newPwd:"",alert:{type:200!==e.status?"alert-danger":"alert-success",message:n}})}))}))})).catch((function(){localStorage.removeItem("user"),window.location.reload(!0)}))}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.collapsed,s=t.toggleCollapse,n=this.state,c=n.alert,o=n.user,i=n.updating,l=n.menuItem,r=n.newPwd,d=n.show;return Object(C.jsxs)(le,{collapsed:a,toggleCollapse:s,menuItem:l,children:[c.message&&Object(C.jsxs)("div",{className:"alert ".concat(c.type),children:[c.message,Object(C.jsx)("button",{className:"close",onClick:function(t){return e.handleClearAlert(t)},children:Object(C.jsx)("span",{"aria-hidden":"true",children:Object(C.jsx)(f.a,{icon:"times"})})})]}),Object(C.jsx)("div",{id:"user",className:c.message?"main-section-alert":"main-section",children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("div",{className:"col-lg-6 col-md-12 mb-3",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsx)("div",{className:"card-header",children:"Profile Info"}),Object(C.jsx)("div",{className:"card-body",style:{height:"118.719px"},children:Object(C.jsxs)("address",{style:{fontSize:"14px"},children:[Object(C.jsxs)("strong",{children:[o.hasOwnProperty("name")?"".concat(o.name):Object(C.jsx)(U.a,{})," "]}),Object(C.jsx)("br",{}),o.hasOwnProperty("email")?Object(C.jsx)("a",{href:"mailto:".concat(o.email),children:o.email}):Object(C.jsx)(U.a,{}),Object(C.jsx)("br",{}),o.hasOwnProperty("isAdmin")?o.isAdmin?"Admin":"Regular User":Object(C.jsx)(U.a,{})]})})]})}),Object(C.jsx)("div",{className:"col-lg-6 col-md-12 mb-3",children:Object(C.jsxs)("div",{className:"card",children:[Object(C.jsx)("div",{className:"card-header",children:"Change Password"}),Object(C.jsx)("div",{className:"card-body",style:{height:"118.719px"},children:Object(C.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(C.jsx)("div",{className:"form-group",children:Object(C.jsxs)("div",{className:"input-group input-group-lg input-group-sm",children:[Object(C.jsx)("input",{className:"form-control",id:"newPwd",name:"newPwd",type:d?"text":"password",value:r,onChange:this.handleChange,placeholder:"New Password",required:!0,autoComplete:"new-password"}),Object(C.jsx)("div",{className:"input-group-append",children:Object(C.jsx)("div",{type:"button",className:"input-group-text",onClick:function(t){return e.togglePassword(t)},children:Object(C.jsx)(f.a,{icon:d?"eye-slash":"eye"})})})]})}),Object(C.jsx)("div",{className:"col-12 text-right p-0",children:Object(C.jsx)("button",{type:"submit",className:"btn btn-sm btn-leeuwen-blue",children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:i?"spinner":"hand-point-right",className:i?"fa-pulse fa-fw fa mr-2":"fa mr-2"}),"Submit"]})})})]})})]})})]})})]})}}]),a}(n.a.Component),be=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.article,a=e.retrievingArticle;return Object(C.jsx)("section",{children:Object(C.jsx)("div",{className:"table-responsive",id:"location",children:Object(C.jsx)("table",{className:"table table-hover",children:Object(C.jsxs)("tbody",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"title"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):t.location.title})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"address"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):t.location.address})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"postal code"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):t.location.postalcode})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"city"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):t.location.city})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"country"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):t.location.country})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"tel"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):t.location.tel})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"fax"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):t.location.fax})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"email"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):t.location.email})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"price info"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):t.location.price_info})]})]})})})})}}]),a}(n.a.Component),me=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.article,a=e.retrievingArticle;return Object(C.jsx)("section",{children:Object(C.jsx)("div",{className:"table-responsive",id:"article",children:Object(C.jsx)("table",{className:"table table-hover",children:Object(C.jsxs)("tbody",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"vLunar"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):t.vlunar})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"artNr"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):t.artNr})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"qty"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):"".concat(G(t.qty,"number",Q())," ").concat(t.uom)})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"weight"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):"".concat(G(t.weight,"number",Q())," KG")})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"gip"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):"".concat(G(t.price.gip,"number",Q())," EUR")})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"rv"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):"".concat(G(t.price.rv,"number",Q())," EUR")})]})]})})})})}}]),a}(n.a.Component),Oe=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.article,a=e.retrievingArticle;return Object(C.jsx)("section",{children:Object(C.jsx)("div",{className:"table-responsive",id:"purchase_info",children:Object(C.jsx)("table",{className:"table table-hover",children:Object(C.jsxs)("tbody",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"supplier"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):t.purchase.supplier})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"qty"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):"".concat(G(t.purchase.qty,"number",Q())," ").concat(t.uom)})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"firstInStock"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):"".concat(G(t.purchase.firstInStock,"number",Q())," ").concat(t.uom)})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):"deliveryDate"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):G(t.purchase.deliveryDate,"date",Q())})]})]})})})})}}]),a}(n.a.Component),ge=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.article,a=e.retrievingArticle;return Object(C.jsx)("section",{children:Object(C.jsx)("div",{className:"table-responsive",id:"supplier_info",children:Object(C.jsx)("table",{className:"table table-hover",children:Object(C.jsxs)("tbody",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):t.supplier.names[0]||"supplier 1"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):"".concat(G(t.supplier.qtys[0],"number",Q())," ").concat(t.uom)})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):t.supplier.names[1]||"supplier 2"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):"".concat(G(t.supplier.qtys[1],"number",Q())," ").concat(t.uom)})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):t.supplier.names[2]||"supplier 3"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):"".concat(G(t.supplier.qtys[2],"number",Q())," ").concat(t.uom)})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:a?Object(C.jsx)(U.a,{}):t.supplier.names[3]||"supplier 4"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):"".concat(G(t.supplier.qtys[3],"number",Q())," ").concat(t.uom)})]})]})})})})}}]),a}(n.a.Component),ve=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.article,a=e.retrievingArticle,s=t.parameters,n=s.sizeOne,c=s.sizeTwo,o=s.sizeThree,i=s.wallOne,l=s.wallTwo,r=s.type,d=s.grade,h=s.length,p=s.end,u=s.surface;return Object(C.jsx)("section",{children:Object(C.jsx)("div",{className:"table-responsive",id:"params_info",children:Object(C.jsx)("table",{className:"table table-hover",children:Object(C.jsxs)("tbody",{children:[Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:"sizeOne"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):n.name})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:"sizeTwo"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):c.name})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:"sizeThree"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):o.name})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:"wallOne"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):i.name})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:"wallTwo"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):l.name})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:"type"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):r.name})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:"grade"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):d.name})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:"length"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):h.name})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:"end"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):p.name})]}),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",className:"w-40",children:"surface"}),Object(C.jsx)("td",{className:"w-60",children:a?Object(C.jsx)(U.a,{}):u.name})]})]})})})})}}]),a}(n.a.Component),xe=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={currentUser:{},article:{opco:"",artNr:"",description:"",vlunar:"",weight:0,uom:"",qty:0,price:{gip:0,rv:0},purchase:{supplier:"",qty:0,firstInStock:0,deliveryDate:null},supplier:{names:["","","",""],qtys:[0,0,0,0]},parameters:{sizeOne:{name:"",tags:[]},sizeTwo:{name:"",tags:[]},sizeThree:{name:"",tags:[]},wallOne:{name:"",tags:[]},wallTwo:{name:"",tags:[]},type:{name:"",tags:[]},grade:{name:"",tags:[]},length:{name:"",tags:[]},end:{name:"",tags:[]},surface:{name:"",tags:[]}}},stocks:[],sort:{name:"",isAscending:!0},dropdown:{opco:"",artNr:"",pffType:"",steelType:"",sizeOne:"",sizeTwo:"",wallOne:"",wallTwo:"",type:"",grade:"",length:"",end:"",surface:""},params:{pffType:{value:"",placeholder:"PFF type",options:[],hover:"",page:0},steelType:{value:"",placeholder:"Steel type",options:[],hover:"",page:0},sizeOne:{value:"",placeholder:"Outside diameter 1",options:[],hover:"",page:0},sizeTwo:{value:"",placeholder:"Outside diameter 2",options:[],hover:"",page:0},wallOne:{value:"",placeholder:"Wall thickness 1",options:[],hover:"",page:0},wallTwo:{value:"",placeholder:"Wall thickness 2",options:[],hover:"",page:0},type:{value:"",placeholder:"Article type",options:[],hover:"",page:0},grade:{value:"",placeholder:"Material grade",options:[],hover:"",page:0},length:{value:"",placeholder:"Length",options:[],hover:"",page:0},end:{value:"",placeholder:"Ends",options:[],hover:"",page:0},surface:{value:"",placeholder:"Surface treatment",options:[],hover:"",page:0},opco:{value:"",placeholder:"OPCO",options:[],hover:"",page:0},artNr:{value:"",placeholder:"ArtNr",options:[],hover:"",page:0}},focused:"",alert:{type:"",message:""},tabs:[{index:0,id:"location",label:"Location",component:be,active:!0,isLoaded:!1},{index:1,id:"article",label:"Article",component:me,active:!1,isLoaded:!1},{index:2,id:"suppliers",label:"Suppliers",component:ge,active:!1,isLoaded:!1},{index:3,id:"purchase",label:"Purchase",component:Oe,active:!1,isLoaded:!1},{index:4,id:"params",label:"Params",component:ve,active:!1,isLoaded:!1}],selectAllRows:!1,selectedRows:[],retrievingStocks:!1,retrievingArticle:!1,exportingParams:!1,exportingStocks:!1,upserting:!1,loading:!1,loaded:!1,submitted:!1,showSearch:!1,showArticle:!1,menuItem:"Stock",settingsColWidth:{},paginate:{pageSize:0,currentPage:1,firstItem:0,lastItem:0,pageItems:0,pageLast:1,totalItems:0,first:1,second:2,third:3}},s.resize=s.resize.bind(Object(h.a)(s)),s.handleClearAlert=s.handleClearAlert.bind(Object(h.a)(s)),s.setAlert=s.setAlert.bind(Object(h.a)(s)),s.toggleSort=s.toggleSort.bind(Object(h.a)(s)),s.toggleModalSearch=s.toggleModalSearch.bind(Object(h.a)(s)),s.handleExport=s.handleExport.bind(Object(h.a)(s)),s.getDocuments=s.getDocuments.bind(Object(h.a)(s)),s.colDoubleClick=s.colDoubleClick.bind(Object(h.a)(s)),s.setColWidth=s.setColWidth.bind(Object(h.a)(s)),s.changePage=s.changePage.bind(Object(h.a)(s)),s.generateBody=s.generateBody.bind(Object(h.a)(s)),s.handleClearFields=s.handleClearFields.bind(Object(h.a)(s)),s.getDropdownOptions=s.getDropdownOptions.bind(Object(h.a)(s)),s.handleChangeDropdown=s.handleChangeDropdown.bind(Object(h.a)(s)),s.handleNextDropdown=s.handleNextDropdown.bind(Object(h.a)(s)),s.handleSelectDropdown=s.handleSelectDropdown.bind(Object(h.a)(s)),s.onFocusDropdown=s.onFocusDropdown.bind(Object(h.a)(s)),s.onHoverDropdown=s.onHoverDropdown.bind(Object(h.a)(s)),s.toggleDropDown=s.toggleDropDown.bind(Object(h.a)(s)),s.getArticle=s.getArticle.bind(Object(h.a)(s)),s.toggleModalArticle=s.toggleModalArticle.bind(Object(h.a)(s)),s.handleModalTabClick=s.handleModalTabClick.bind(Object(h.a)(s)),s.toggleSelectAllRow=s.toggleSelectAllRow.bind(Object(h.a)(s)),s.updateSelectedRows=s.updateSelectedRows.bind(Object(h.a)(s)),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.paginate,s=(t.params,JSON.parse(localStorage.getItem("user"))),n=document.getElementById("table-container");s?this.setState({currentUser:s,paginate:Object(i.a)(Object(i.a)({},a),{},{pageSize:M(n.clientHeight)})},(function(){return e.getDocuments()})):(localStorage.removeItem("user"),window.location.reload(!0))}},{key:"resize",value:function(){var e=this,t=this.state.paginate,a=document.getElementById("table-container");this.setState({paginate:Object(i.a)(Object(i.a)({},t),{},{pageSize:M(a.clientHeight)})},(function(){return e.getDocuments()}))}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,s=a.sort,n=a.dropdown,c=a.paginate,o=a.stocks,i=a.selectedRows;if((s!==t.sort||n!==t.dropdown||c.pageSize!==t.paginate.pageSize&&0!==t.paginate.pageSize)&&this.getDocuments(),this.state.params.pffType.value!==t.params.pffType.value&&this.getDropdownOptions("pffType",0),this.state.params.steelType.value!==t.params.steelType.value&&this.getDropdownOptions("steelType",0),this.state.params.sizeOne.value!==t.params.sizeOne.value&&this.getDropdownOptions("sizeOne",0),this.state.params.sizeTwo.value!==t.params.sizeTwo.value&&this.getDropdownOptions("sizeTwo",0),this.state.params.wallOne.value!==t.params.wallOne.value&&this.getDropdownOptions("wallOne",0),this.state.params.wallTwo.value!==t.params.wallTwo.value&&this.getDropdownOptions("wallTwo",0),this.state.params.type.value!==t.params.type.value&&this.getDropdownOptions("type",0),this.state.params.grade.value!==t.params.grade.value&&this.getDropdownOptions("grade",0),this.state.params.length.value!==t.params.length.value&&this.getDropdownOptions("length",0),this.state.params.end.value!==t.params.end.value&&this.getDropdownOptions("end",0),this.state.params.surface.value!==t.params.surface.value&&this.getDropdownOptions("surface",0),this.state.params.opco.value!==t.params.opco.value&&this.getDropdownOptions("opco",0),this.state.params.artNr.value!==t.params.artNr.value&&this.getDropdownOptions("artNr",0),o!==t.stocks){var l=i.reduce((function(e,t){var a=o.find((function(e){return L.a.isEqual(e._id,t)}));return L.a.isUndefined(a)||e.push(t),e}),[]);this.setState({selectedRows:l,selectAllRows:!1})}}},{key:"handleClearAlert",value:function(e){e.preventDefault(),this.setState({alert:{type:"",message:""}})}},{key:"setAlert",value:function(e,t){this.setState({alert:{type:e,message:t}})}},{key:"toggleSort",value:function(e,t){e.preventDefault();var a=this.state.sort;a.name!==t?this.setState({sort:{name:t,isAscending:!0}}):a.isAscending?this.setState({sort:{name:t,isAscending:!1}}):this.setState({sort:{name:"",isAscending:!0}})}},{key:"toggleModalSearch",value:function(){var e=this.state.showSearch;this.setState({showSearch:!e})}},{key:"handleExport",value:function(e,t){var a=this;e.preventDefault();var s=this.state,n=s.sort,c=s.dropdown,o=s.exportingParams,l=s.exportingStocks,r=s.selectedRows;!["params","stocks"].includes(t)||o||l||this.setState({exportingParams:"params"===t,exportingStocks:"stocks"===t},(function(){var e={method:"POST",headers:Object(i.a)(Object(i.a)({},F()),{},{"Content-Type":"application/json"}),body:JSON.stringify({sort:n,dropdown:c,selectedIds:r})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/stocks/export/").concat(t),e).then((function(e){return e.text().then((function(s){a.setState({exportingParams:!1===t,exportingStocks:!1===t},(function(){var t=s&&JSON.parse(s),n=t&&t.message||e.statusText;401===e.status?(localStorage.removeItem("user"),window.location.reload(!0)):200!==e.status&&a.setState({alert:{type:200===e.status?"alert-success":"alert-danger",message:n||""}})}))}))})).catch((function(){localStorage.removeItem("user"),window.location.reload(!0)}))}))}},{key:"getDocuments",value:function(e){var t=this,a=this.state,s=a.paginate,n=a.sort,c=a.dropdown;s.pageSize&&this.setState({retrievingStocks:!0},(function(){var a={method:"POST",headers:Object(i.a)(Object(i.a)({},F()),{},{"Content-Type":"application/json"}),body:JSON.stringify({sort:n,dropdown:c,nextPage:e,pageSize:s.pageSize})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/stocks/getAll"),a).then((function(e){return e.text().then((function(a){t.setState({retrievingStocks:!1},(function(){var n=a&&JSON.parse(a),c=n&&n.message||e.statusText;401===e.status?(localStorage.removeItem("user"),window.location.reload(!0)):200!==e.status?t.setState({alert:{type:"alert-danger",message:c}}):t.setState({stocks:n[0].data,paginate:Object(i.a)(Object(i.a)({},s),n[0].paginate)})}))}))})).catch((function(){localStorage.removeItem("user"),window.location.reload(!0)}))}))}},{key:"getArticle",value:function(e,t){var a=this;e.preventDefault(),this.setState({article:{opco:"",artNr:"",description:"",vlunar:"",weight:0,uom:"",qty:0,price:{gip:0,rv:0},purchase:{supplier:"",qty:0,firstInStock:0,deliveryDate:null},supplier:{names:["","","",""],qtys:[0,0,0,0]},parameters:{sizeOne:{name:"",tags:[]},sizeTwo:{name:"",tags:[]},sizeThree:{name:"",tags:[]},wallOne:{name:"",tags:[]},wallTwo:{name:"",tags:[]},type:{name:"",tags:[]},grade:{name:"",tags:[]},length:{name:"",tags:[]},end:{name:"",tags:[]},surface:{name:"",tags:[]}}},retrievingArticle:!0,showArticle:!0},(function(){var e={method:"GET",headers:Object(i.a)(Object(i.a)({},F()),{},{"Content-Type":"application/json"})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/stocks/").concat(t),e).then((function(e){return e.text().then((function(t){var s=t&&JSON.parse(t),n=s&&s.message||e.statusText;401===e.status?(localStorage.removeItem("user"),window.location.reload(!0)):200!==e.status?a.setState({alert:{type:"alert-danger",message:n,retrievingArticle:!1}}):a.setState({article:s.article,retrievingArticle:!1})}))})).catch((function(){localStorage.removeItem("user"),window.location.reload(!0)}))}))}},{key:"toggleModalArticle",value:function(e){e.preventDefault();var t=this.state.showArticle;this.setState({article:{opco:"",artNr:"",description:"",vlunar:"",weight:0,uom:"",qty:0,price:{gip:0,rv:0},purchase:{supplier:"",qty:0,firstInStock:0,deliveryDate:null},supplier:{names:["","","",""],qtys:[0,0,0,0]},parameters:{sizeOne:{name:"",tags:[]},sizeTwo:{name:"",tags:[]},sizeThree:{name:"",tags:[]},wallOne:{name:"",tags:[]},wallTwo:{name:"",tags:[]},type:{name:"",tags:[]},grade:{name:"",tags:[]},length:{name:"",tags:[]},end:{name:"",tags:[]},surface:{name:"",tags:[]}}},tabs:[{index:0,id:"location",label:"Location",component:be,active:!0,isLoaded:!1},{index:1,id:"article",label:"Article",component:me,active:!1,isLoaded:!1},{index:2,id:"suppliers",label:"Suppliers",component:ge,active:!1,isLoaded:!1},{index:3,id:"purchase",label:"Purchase",component:Oe,active:!1,isLoaded:!1},{index:4,id:"params",label:"Params",component:ve,active:!1,isLoaded:!1}],retrievingArticle:!1,showArticle:!t})}},{key:"colDoubleClick",value:function(e,t){e.preventDefault();var a=this.state.settingsColWidth;if(a.hasOwnProperty(t)){var s=H(a);delete s[t],this.setState({settingsColWidth:s})}else this.setState({settingsColWidth:Object(i.a)(Object(i.a)({},a),{},Object(x.a)({},t,10))})}},{key:"setColWidth",value:function(e,t){var a=this.state.settingsColWidth;this.setState({settingsColWidth:Object(i.a)(Object(i.a)({},a),{},Object(x.a)({},e,t))})}},{key:"changePage",value:function(e,t){e.preventDefault();var a=this.state.paginate;t>0&&t<a.pageLast+1&&this.getDocuments(t)}},{key:"toggleSelectAllRow",value:function(){var e=this.state,t=e.selectAllRows,a=e.stocks;L.a.isEmpty(a)||(t?this.setState({selectedRows:[],selectAllRows:!1}):this.setState({selectedRows:a.map((function(e){return e._id})),selectAllRows:!0}))}},{key:"updateSelectedRows",value:function(e){var t=this.state.selectedRows;t.includes(e)?this.setState({selectedRows:K(t,e)}):this.setState({selectedRows:[].concat(Object(R.a)(t),[e])})}},{key:"generateBody",value:function(){var e=this,t=this.state,a=t.stocks,s=t.retrievingStocks,n=(t.currentUser,t.paginate),c=t.settingsColWidth,o=t.selectAllRows,i=t.selectedRows,l=[];if(L.a.isEmpty(a)&&s)for(var r=0;r<n.pageSize;r++)l.push(Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})})]},r));else a.map((function(t){l.push(Object(C.jsxs)("tr",{children:[Object(C.jsx)(q,{id:t._id,selectAllRows:o,selectedRows:i,callback:e.updateSelectedRows}),Object(C.jsx)($,{colIndex:"0",value:t.opco,type:"text",settingsColWidth:c,handleClick:e.getArticle,eventId:t._id}),Object(C.jsx)($,{colIndex:"1",value:t.artNr,type:"text",settingsColWidth:c,handleClick:e.getArticle,eventId:t._id}),Object(C.jsx)($,{colIndex:"2",value:t.description,type:"text",settingsColWidth:c,handleClick:e.getArticle,eventId:t._id}),Object(C.jsx)($,{colIndex:"3",value:t.qty,type:"number",settingsColWidth:c,handleClick:e.getArticle,eventId:t._id}),Object(C.jsx)($,{colIndex:"4",value:t.firstInStock,type:"number",settingsColWidth:c,handleClick:e.getArticle,eventId:t._id}),Object(C.jsx)($,{colIndex:"5",value:t.uom,type:"text",settingsColWidth:c,handleClick:e.getArticle,eventId:t._id}),Object(C.jsx)($,{colIndex:"6",value:t.gip,type:"number",settingsColWidth:c,handleClick:e.getArticle,eventId:t._id}),Object(C.jsx)($,{colIndex:"7",value:t.rv,type:"number",settingsColWidth:c,handleClick:e.getArticle,eventId:t._id}),Object(C.jsx)($,{colIndex:"8",value:t.currency,type:"text",settingsColWidth:c,handleClick:e.getArticle,eventId:t._id})]},t._id))}));return l}},{key:"handleClearFields",value:function(e){e.preventDefault(),this.setState({sort:{name:"",isAscending:!0},dropdown:{opco:"",artNr:"",pffType:"",steelType:"",sizeOne:"",sizeTwo:"",wallOne:"",wallTwo:"",type:"",grade:"",length:"",end:"",surface:""},params:{pffType:{value:"",placeholder:"PFF type",options:[],hover:"",page:0},steelType:{value:"",placeholder:"Steel type",options:[],hover:"",page:0},sizeOne:{value:"",placeholder:"Outside diameter 1",options:[],hover:"",page:0},sizeTwo:{value:"",placeholder:"Outside diameter 2",options:[],hover:"",page:0},wallOne:{value:"",placeholder:"Wall thickness 1",options:[],hover:"",page:0},wallTwo:{value:"",placeholder:"Wall thickness 2",options:[],hover:"",page:0},type:{value:"",placeholder:"Article type",options:[],hover:"",page:0},grade:{value:"",placeholder:"Material grade",options:[],hover:"",page:0},length:{value:"",placeholder:"Length",options:[],hover:"",page:0},end:{value:"",placeholder:"Ends",options:[],hover:"",page:0},surface:{value:"",placeholder:"Surface treatment",options:[],hover:"",page:0},opco:{value:"",placeholder:"OPCO",options:[],hover:"",page:0},artNr:{value:"",placeholder:"Art Nr",options:[],hover:"",page:0}},focused:""})}},{key:"getDropdownOptions",value:function(e,t){var a=this,s=this.state,n=s.focused,c=s.sort,o=s.dropdown;this.setState({loading:!0},(function(){var s={method:"POST",headers:Object(i.a)(Object(i.a)({},F()),{},{"Content-Type":"application/json"}),body:JSON.stringify({sort:c,dropdown:o,name:a.state.params[e].value,page:t||0})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/stocks/getDrop/").concat(e),s).then((function(s){return s.text().then((function(c){a.setState({loading:!1},(function(){var o=c&&JSON.parse(c);200===s.status&&a.setState({params:Object(i.a)(Object(i.a)({},a.state.params),{},Object(x.a)({},e,Object(i.a)(Object(i.a)({},a.state.params[e]),{},{options:e!==n?[]:0!==t?[].concat(Object(R.a)(a.state.params[e].options),Object(R.a)(o)):o,page:t})))})}))}))})).catch((function(){localStorage.removeItem("user"),window.location.reload(!0)}))}))}},{key:"handleNextDropdown",value:function(e){var t=this;this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},e,Object(i.a)(Object(i.a)({},this.state.params[e]),{},{page:this.state.params[e].page+1})))},(function(){t.getDropdownOptions(e,t.state.params[e].page)}))}},{key:"handleChangeDropdown",value:function(e){e.preventDefault();var t=e.target,a=t.name,s=t.value;this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},a,Object(i.a)(Object(i.a)({},this.state.params[a]),{},{value:s}))),dropdown:Object(i.a)(Object(i.a)({},this.state.dropdown),{},Object(x.a)({},a,""))})}},{key:"handleSelectDropdown",value:function(e,t,a){e.preventDefault(),this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},t,Object(i.a)(Object(i.a)({},this.state.params[t]),{},{value:"",options:[],hover:""}))),dropdown:Object(i.a)(Object(i.a)({},this.state.dropdown),{},Object(x.a)({},t,a)),focused:""}),document.getElementById(t).blur()}},{key:"onFocusDropdown",value:function(e){var t,a=this,s=e.target.name,n=this.state.focused;n?this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},(t={},Object(x.a)(t,s,Object(i.a)(Object(i.a)({},this.state.params[s]),{},{options:[],value:this.state.dropdown[s],hover:""})),Object(x.a)(t,n,Object(i.a)(Object(i.a)({},this.state.params[n]),{},{options:[],value:"",hover:""})),t)),focused:s},(function(){return a.getDropdownOptions(s,0)})):this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},s,Object(i.a)(Object(i.a)({},this.state.params[s]),{},{options:[],value:this.state.dropdown[s],hover:""}))),focused:s},(function(){return a.getDropdownOptions(s,0)}))}},{key:"onHoverDropdown",value:function(e,t,a){e.preventDefault(),this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},t,Object(i.a)(Object(i.a)({},this.state.params[t]),{},{hover:a})))})}},{key:"toggleDropDown",value:function(e,t){e.preventDefault();var a=this.state,s=a.params,n=a.dropdown,c=a.focused;if(L.a.isEqual(c,t)||n[t]){this.setState({params:Object(i.a)(Object(i.a)({},s),{},Object(x.a)({},t,Object(i.a)(Object(i.a)({},s[t]),{},{options:[],value:"",hover:""}))),dropdown:Object(i.a)(Object(i.a)({},n),{},Object(x.a)({},t,"")),focused:""}),document.getElementById(t).blur()}else{var o=document.getElementById(t);o.focus(),o.select()}}},{key:"handleModalTabClick",value:function(e,t){e.preventDefault();var a=this.state.tabs;a.forEach((function(e){e.active=!1})),t.isLoaded=!0,t.active=!0,this.setState(Object(i.a)(Object(i.a)({},this.state),{},{tabs:a}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.collapsed,s=t.toggleCollapse,n=this.state,c=n.alert,o=n.menuItem,i=n.article,l=n.retrievingArticle,r=n.sort,d=n.showSearch,h=n.settingsColWidth,p=n.exportingParams,u=n.exportingStocks,j=n.showArticle,b=n.tabs,m=n.selectAllRows,O=this.state,g=O.params,v=O.focused,x=O.dropdown,w=this.state.paginate,S=w.currentPage,y=w.firstItem,N=w.lastItem,D=w.pageItems,k=w.pageLast,A=w.totalItems,_=w.first,I=w.second,P=w.third;return Object(C.jsxs)(le,{collapsed:a,toggleCollapse:s,menuItem:o,children:[c.message&&Object(C.jsxs)("div",{className:"alert ".concat(c.type),children:[c.message,Object(C.jsx)("button",{className:"close",onClick:function(t){return e.handleClearAlert(t)},children:Object(C.jsx)("span",{"aria-hidden":"true",children:Object(C.jsx)(f.a,{icon:"times"})})})]}),Object(C.jsxs)("div",{id:"setting",className:c.message?"main-section-alert":"main-section",children:[Object(C.jsxs)("div",{className:"action-row row",children:[Object(C.jsxs)("button",{title:"Search",className:"btn btn-sm btn-leeuwen-blue mr-2",onClick:this.toggleModalSearch,children:[" ",Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"search",className:"fa mr-2"}),"Search"]})]}),Object(C.jsxs)("button",{title:"Export Stock",className:"btn btn-sm btn-leeuwen-blue mr-2",onClick:function(t){return e.handleExport(t,"stocks")},children:[" ",Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:u?"spinner":"file-download",className:u?"fa-pulse fa-fw fa mr-2":"fa mr-2"}),"Exp. Stock"]})]}),Object(C.jsxs)("button",{title:"Export Params",className:"btn btn-sm btn-leeuwen-blue mr-2",onClick:function(t){return e.handleExport(t,"params")},children:[" ",Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:p?"spinner":"file-download",className:p?"fa-pulse fa-fw fa mr-2":"fa mr-2"}),"Exp. Params"]})]})]}),Object(C.jsxs)("div",{className:"body-section",children:[Object(C.jsx)("div",{className:"row ml-1 mr-1",style:{height:"calc(100% - 40px)"},children:Object(C.jsx)("div",{id:"table-container",className:"table-responsive custom-table-container",children:Object(C.jsxs)("table",{className:"table table-hover table-bordered table-sm",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)(B,{checked:m,onChange:this.toggleSelectAllRow}),Object(C.jsx)(J,{title:"opco",name:"opco",width:"80px",sort:r,toggleSort:this.toggleSort,index:"0",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:h}),Object(C.jsx)(J,{title:"artNr",name:"artNr",width:"80px",sort:r,toggleSort:this.toggleSort,index:"1",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:h}),Object(C.jsx)(J,{title:"description",name:"description",sort:r,toggleSort:this.toggleSort,index:"2",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:h}),Object(C.jsx)(J,{title:"qty",name:"qty",width:"80px",sort:r,toggleSort:this.toggleSort,index:"3",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:h}),Object(C.jsx)(J,{title:"firstInStock",name:"firstInStock",width:"80px",sort:r,toggleSort:this.toggleSort,index:"4",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:h}),Object(C.jsx)(J,{title:"uom",name:"uom",width:"80px",sort:r,toggleSort:this.toggleSort,index:"5",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:h}),Object(C.jsx)(J,{title:"gip",name:"gip",width:"80px",sort:r,toggleSort:this.toggleSort,index:"6",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:h}),Object(C.jsx)(J,{title:"rv",name:"rv",width:"80px",sort:r,toggleSort:this.toggleSort,index:"7",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:h}),Object(C.jsx)(J,{title:"currency",name:"currency",width:"80px",sort:r,toggleSort:this.toggleSort,index:"8",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:h})]})}),Object(C.jsx)("tbody",{className:"full-height",children:this.generateBody()})]})})}),Object(C.jsx)(de,{currentPage:S,pageLast:k,first:_,second:I,third:P,firstItem:y,lastItem:N,pageItems:D,totalItems:A,changePage:this.changePage})]}),Object(C.jsxs)(re,{show:d,hideModal:this.toggleModalSearch,title:"Search",size:"modal-lg",children:[Object(C.jsx)("section",{id:"fields",className:"drop-section",children:Object(C.jsx)("div",{className:"row row-cols-1 row-cols-md-2",children:Object.keys(g).map((function(t){return Object(C.jsx)(pe,{name:t,isFocused:g[t].isFocused,focused:v,value:g[t].value,placeholder:g[t].placeholder,selection:x[t],options:g[t].options,hover:e.state.params[t].hover,page:g[t].page,onChange:e.handleChangeDropdown,handleNextDropdown:e.handleNextDropdown,handleSelect:e.handleSelectDropdown,onFocus:e.onFocusDropdown,onHover:e.onHoverDropdown,toggleDropDown:e.toggleDropDown},t)}))})}),Object(C.jsx)("div",{className:"modal-footer",children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("button",{className:"btn btn-sm btn-leeuwen",onClick:this.handleClearFields,children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"filter",className:"fa mr-2"}),"Clear Fields"]})}),Object(C.jsx)("button",{className:"btn btn-sm btn-leeuwen-blue ml-2",onClick:this.toggleModalSearch,children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"times",className:"fa mr-2"}),"Close"]})})]})})]}),Object(C.jsxs)(re,{show:j,hideModal:this.toggleModalArticle,title:i.description?i.description:"Article",size:"modal-lg",children:[Object(C.jsxs)("div",{id:"modal-tabs",children:[Object(C.jsx)("ul",{className:"nav nav-tabs",children:b.map((function(t){return Object(C.jsx)("li",{className:t.active?"nav-item active":"nav-item",children:Object(C.jsx)("a",{className:"nav-link",href:"#"+t.id,"data-toggle":"tab",onClick:function(a){return e.handleModalTabClick(a,t)},id:t.id+"-tab","aria-controls":t.id,role:"tab",draggable:"false",children:t.label})},t.index)}))}),Object(C.jsxs)("div",{className:"tab-content",id:"modal-nav-tabContent",children:[c.message&&Object(C.jsxs)("div",{className:"alert ".concat(c.type),children:[c.message,Object(C.jsx)("button",{className:"close",onClick:function(t){return e.handleClearAlert(t)},children:Object(C.jsx)("span",{"aria-hidden":"true",children:Object(C.jsx)(f.a,{icon:"times"})})})]}),b.map((function(e){return Object(C.jsx)("div",{className:e.active?"tab-pane fade show active":"tab-pane fade",id:e.id,role:"tabpanel","aria-labelledby":e.id+"-tab",children:Object(C.jsx)(e.component,{tab:e,article:i,retrievingArticle:l})},e.index)}))]})]}),Object(C.jsx)("div",{className:"modal-footer",children:Object(C.jsx)("div",{className:"row",children:Object(C.jsx)("button",{className:"btn btn-sm btn-leeuwen-blue ml-2",onClick:this.toggleModalArticle,children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"times",className:"fa mr-2"}),"Close"]})})})})]})]})]})}}]),a}(n.a.Component),fe=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={menuItem:"Buy-Out"},s}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state.menuItem,t=this.props,a=t.toggleCollapse,s=t.collapsed;return Object(C.jsx)(le,{collapsed:s,toggleCollapse:a,menuItem:e})}}]),a}(n.a.Component),we=a(26),Se=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={elements:[],sort:{name:"",isAscending:!0},dropdown:{type:"",status:"",user:"",createdAt:"",expiresAt:""},params:{type:{value:"",placeholder:"Type",options:[],hover:"",page:0},status:{value:"",placeholder:"Status",options:[],hover:"",page:0},user:{value:"",placeholder:"User",options:[],hover:"",page:0},createdAt:{value:"",placeholder:"createdAt",options:[],hover:"",page:0},expiresAt:{value:"",placeholder:"expiresAt",options:[],hover:"",page:0}},focused:"",alert:{type:"",message:""},selectAllRows:!1,selectedRows:[],retrieving:!1,loading:!1,showSearch:!1,menuItem:"Export data",settingsColWidth:{},paginate:{pageSize:0,currentPage:1,firstItem:0,lastItem:0,pageItems:0,pageLast:1,totalItems:0,first:1,second:2,third:3}},s.resize=s.resize.bind(Object(h.a)(s)),s.handleClearAlert=s.handleClearAlert.bind(Object(h.a)(s)),s.setAlert=s.setAlert.bind(Object(h.a)(s)),s.toggleSort=s.toggleSort.bind(Object(h.a)(s)),s.getDocuments=s.getDocuments.bind(Object(h.a)(s)),s.colDoubleClick=s.colDoubleClick.bind(Object(h.a)(s)),s.setColWidth=s.setColWidth.bind(Object(h.a)(s)),s.changePage=s.changePage.bind(Object(h.a)(s)),s.handleDownlaod=s.handleDownlaod.bind(Object(h.a)(s)),s.generateBody=s.generateBody.bind(Object(h.a)(s)),s.toggleModalSearch=s.toggleModalSearch.bind(Object(h.a)(s)),s.handleClearFields=s.handleClearFields.bind(Object(h.a)(s)),s.getDropdownOptions=s.getDropdownOptions.bind(Object(h.a)(s)),s.handleChangeDropdown=s.handleChangeDropdown.bind(Object(h.a)(s)),s.handleNextDropdown=s.handleNextDropdown.bind(Object(h.a)(s)),s.handleSelectDropdown=s.handleSelectDropdown.bind(Object(h.a)(s)),s.onFocusDropdown=s.onFocusDropdown.bind(Object(h.a)(s)),s.onHoverDropdown=s.onHoverDropdown.bind(Object(h.a)(s)),s.toggleDropDown=s.toggleDropDown.bind(Object(h.a)(s)),s.toggleSelectAllRow=s.toggleSelectAllRow.bind(Object(h.a)(s)),s.updateSelectedRows=s.updateSelectedRows.bind(Object(h.a)(s)),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("table-container");this.interval=setInterval((function(){return e.getDocuments(e.state.paginate.currentPage)}),3e3),this.setState({paginate:Object(i.a)(Object(i.a)({},this.state.paginate),{},{pageSize:M(t.clientHeight)})},(function(){return e.getDocuments(e.state.paginate.currentPage)}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"resize",value:function(){var e=this,t=document.getElementById("table-container");this.setState({paginate:Object(i.a)(Object(i.a)({},this.state.paginate),{},{pageSize:M(t.clientHeight)})},(function(){return e.getDocuments(e.state.paginate.currentPage)}))}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,s=a.sort,n=a.dropdown,c=a.paginate,o=a.elements,i=a.selectedRows;if((s!==t.sort||n!==t.dropdown||c.pageSize!==t.paginate.pageSize&&0!==t.paginate.pageSize)&&this.getDocuments(),this.state.params.type.value!==t.params.type.value&&this.getDropdownOptions("type",0),this.state.params.status.value!==t.params.status.value&&this.getDropdownOptions("status",0),this.state.params.user.value!==t.params.user.value&&this.getDropdownOptions("user",0),this.state.params.createdAt.value!==t.params.createdAt.value&&this.getDropdownOptions("createdAt",0),this.state.params.expiresAt.value!==t.params.expiresAt.value&&this.getDropdownOptions("expiresAt",0),o!==t.elements){var l=i.reduce((function(e,t){var a=o.find((function(e){return L.a.isEqual(e._id,t)}));return L.a.isUndefined(a)||e.push(t),e}),[]);this.setState({selectedRows:l,selectAllRows:!1})}}},{key:"handleClearAlert",value:function(e){e.preventDefault(),this.setState({alert:{type:"",message:""}})}},{key:"setAlert",value:function(e,t){this.setState({alert:{type:e,message:t}})}},{key:"toggleSort",value:function(e,t){e.preventDefault();var a=this.state.sort;a.name!==t?this.setState({sort:{name:t,isAscending:!0}}):a.isAscending?this.setState({sort:{name:t,isAscending:!1}}):this.setState({sort:{name:"",isAscending:!0}})}},{key:"toggleModalSearch",value:function(){var e=this.state.showSearch;this.setState({showSearch:!e})}},{key:"getDocuments",value:function(e){var t=this,a=this.state,s=a.paginate,n=a.sort,c=a.dropdown;s.pageSize&&this.setState({retrieving:!0},(function(){var a={method:"POST",headers:Object(i.a)(Object(i.a)({},F()),{},{"Content-Type":"application/json"}),body:JSON.stringify({sort:n,dropdown:c,nextPage:e,pageSize:s.pageSize})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/exports/getAll"),a).then((function(e){return e.text().then((function(a){t.setState({retrieving:!1},(function(){var n=a&&JSON.parse(a),c=n&&n.message||e.statusText;401===e.status?(localStorage.removeItem("user"),window.location.reload(!0)):200!==e.status?t.setState({alert:{type:"alert-danger",message:c}}):t.setState({elements:n[0].data,paginate:Object(i.a)(Object(i.a)({},s),n[0].paginate)})}))}))})).catch((function(){localStorage.removeItem("user"),window.location.reload(!0)}))}))}},{key:"colDoubleClick",value:function(e,t){e.preventDefault();var a=this.state.settingsColWidth;if(a.hasOwnProperty(t)){var s=H(a);delete s[t],this.setState({settingsColWidth:s})}else this.setState({settingsColWidth:Object(i.a)(Object(i.a)({},a),{},Object(x.a)({},t,10))})}},{key:"setColWidth",value:function(e,t){var a=this.state.settingsColWidth;this.setState({settingsColWidth:Object(i.a)(Object(i.a)({},a),{},Object(x.a)({},e,t))})}},{key:"changePage",value:function(e,t){e.preventDefault();var a=this.state.paginate;t>0&&t<a.pageLast+1&&this.getDocuments(t)}},{key:"toggleSelectAllRow",value:function(){var e=this.state,t=e.selectAllRows,a=e.elements;L.a.isEmpty(a)||(t?this.setState({selectedRows:[],selectAllRows:!1}):this.setState({selectedRows:a.map((function(e){return e._id})),selectAllRows:!0}))}},{key:"updateSelectedRows",value:function(e){var t=this.state.selectedRows;t.includes(e)?this.setState({selectedRows:K(t,e)}):this.setState({selectedRows:[].concat(Object(R.a)(t),[e])})}},{key:"handleDownlaod",value:function(e,t){var a=this;e.preventDefault();var s=this.state.downloadingExport;t&&!s&&this.setState({downloadingExport:!0},(function(){var e={method:"GET",headers:Object(i.a)(Object(i.a)({},F()),{},{"Content-Type":"application/json"})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/exports/download/").concat(t),e).then((function(e){a.setState({downloadingExport:!1}),e.ok?e.blob().then((function(e){return Object(we.saveAs)(e,"export.xlsx")})):401===e.status?(localStorage.removeItem("user"),window.location.reload(!0)):e.text().then((function(t){var s=t&&JSON.parse(t),n=s&&s.message||e.statusText;a.setState({alert:{type:"alert-danger",message:n}})}))}))}))}},{key:"generateBody",value:function(){var e=this,t=this.state,a=t.elements,s=t.retrieving,n=t.paginate,c=t.settingsColWidth,o=t.selectAllRows,i=t.selectedRows,l=[];if(L.a.isEmpty(a)&&s)for(var r=0;r<n.pageSize;r++)l.push(Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})})]},r));else a.map((function(t){l.push(Object(C.jsxs)("tr",{children:[Object(C.jsx)(q,{id:t._id,selectAllRows:o,selectedRows:i,callback:e.updateSelectedRows}),Object(C.jsx)($,{colIndex:"1",value:t.type,type:"text",settingsColWidth:c,eventId:t._id}),Object(C.jsx)($,{colIndex:"2",value:t.user,type:"text",settingsColWidth:c,eventId:t._id}),Object(C.jsx)($,{colIndex:"3",value:t.createdAtX,type:"text",settingsColWidth:c,eventId:t._id}),Object(C.jsx)($,{colIndex:"4",value:t.expiresAtX,type:"text",settingsColWidth:c,eventId:t._id}),Object(C.jsx)($,{colIndex:"5",value:t.status,type:"text",settingsColWidth:c,handleDownlaod:e.handleDownlaod,eventId:t._id})]},t._id))}));return l}},{key:"handleClearFields",value:function(e){e.preventDefault(),this.setState({sort:{name:"",isAscending:!0},dropdown:{type:"",status:"",user:"",createdAt:"",expiresAt:""},params:{type:{value:"",placeholder:"Type",options:[],hover:"",page:0},status:{value:"",placeholder:"Status",options:[],hover:"",page:0},user:{value:"",placeholder:"User",options:[],hover:"",page:0},createdAt:{value:"",placeholder:"createdAt",options:[],hover:"",page:0},expiresAt:{value:"",placeholder:"expiresAt",options:[],hover:"",page:0}},focused:""})}},{key:"getDropdownOptions",value:function(e,t){var a=this,s=this.state,n=s.focused,c=s.sort,o=s.dropdown;this.setState({loading:!0},(function(){var s={method:"POST",headers:Object(i.a)(Object(i.a)({},F()),{},{"Content-Type":"application/json"}),body:JSON.stringify({sort:c,dropdown:o,name:a.state.params[e].value,page:t||0})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/exports/getDrop/").concat(e),s).then((function(s){return s.text().then((function(c){a.setState({loading:!1},(function(){var o=c&&JSON.parse(c);200===s.status&&a.setState({params:Object(i.a)(Object(i.a)({},a.state.params),{},Object(x.a)({},e,Object(i.a)(Object(i.a)({},a.state.params[e]),{},{options:e!==n?[]:0!==t?[].concat(Object(R.a)(a.state.params[e].options),Object(R.a)(o)):o,page:t})))})}))}))})).catch((function(){localStorage.removeItem("user"),window.location.reload(!0)}))}))}},{key:"handleNextDropdown",value:function(e){var t=this;this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},e,Object(i.a)(Object(i.a)({},this.state.params[e]),{},{page:this.state.params[e].page+1})))},(function(){t.getDropdownOptions(e,t.state.params[e].page)}))}},{key:"handleChangeDropdown",value:function(e){e.preventDefault();var t=e.target,a=t.name,s=t.value;this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},a,Object(i.a)(Object(i.a)({},this.state.params[a]),{},{value:s}))),dropdown:Object(i.a)(Object(i.a)({},this.state.dropdown),{},Object(x.a)({},a,""))})}},{key:"handleSelectDropdown",value:function(e,t,a){e.preventDefault(),this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},t,Object(i.a)(Object(i.a)({},this.state.params[t]),{},{value:"",options:[],hover:""}))),dropdown:Object(i.a)(Object(i.a)({},this.state.dropdown),{},Object(x.a)({},t,a)),focused:""}),document.getElementById(t).blur()}},{key:"onFocusDropdown",value:function(e){var t,a=this,s=e.target.name,n=this.state.focused;n?this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},(t={},Object(x.a)(t,s,Object(i.a)(Object(i.a)({},this.state.params[s]),{},{options:[],value:this.state.dropdown[s],hover:""})),Object(x.a)(t,n,Object(i.a)(Object(i.a)({},this.state.params[n]),{},{options:[],value:"",hover:""})),t)),focused:s},(function(){return a.getDropdownOptions(s,0)})):this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},s,Object(i.a)(Object(i.a)({},this.state.params[s]),{},{options:[],value:this.state.dropdown[s],hover:""}))),focused:s},(function(){return a.getDropdownOptions(s,0)}))}},{key:"onHoverDropdown",value:function(e,t,a){e.preventDefault(),this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},t,Object(i.a)(Object(i.a)({},this.state.params[t]),{},{hover:a})))})}},{key:"toggleDropDown",value:function(e,t){e.preventDefault();var a=this.state,s=a.params,n=a.dropdown,c=a.focused;if(L.a.isEqual(c,t)||n[t]){this.setState({params:Object(i.a)(Object(i.a)({},s),{},Object(x.a)({},t,Object(i.a)(Object(i.a)({},s[t]),{},{options:[],value:"",hover:""}))),dropdown:Object(i.a)(Object(i.a)({},n),{},Object(x.a)({},t,"")),focused:""}),document.getElementById(t).blur()}else{var o=document.getElementById(t);o.focus(),o.select()}}},{key:"render",value:function(){var e=this,t=this.props,a=t.collapsed,s=t.toggleCollapse,n=this.state,c=n.alert,o=n.menuItem,i=n.sort,l=n.showSearch,r=n.settingsColWidth,d=n.selectAllRows,h=this.state,p=h.params,u=h.focused,j=h.dropdown,b=this.state.paginate,m=b.currentPage,O=b.firstItem,g=b.lastItem,v=b.pageItems,x=b.pageLast,w=b.totalItems,S=b.first,y=b.second,N=b.third;return Object(C.jsxs)(le,{collapsed:a,toggleCollapse:s,menuItem:o,children:[c.message&&Object(C.jsxs)("div",{className:"alert ".concat(c.type),children:[c.message,Object(C.jsx)("button",{className:"close",onClick:function(t){return e.handleClearAlert(t)},children:Object(C.jsx)("span",{"aria-hidden":"true",children:Object(C.jsx)(f.a,{icon:"times"})})})]}),Object(C.jsxs)("div",{id:"setting",className:c.message?"main-section-alert":"main-section",children:[Object(C.jsx)("div",{className:"action-row row",children:Object(C.jsxs)("button",{title:"Search",className:"btn btn-sm btn-leeuwen-blue mr-2",onClick:this.toggleModalSearch,children:[" ",Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"search",className:"fa mr-2"}),"Search"]})]})}),Object(C.jsxs)("div",{className:"body-section",children:[Object(C.jsxs)("div",{className:"row ml-1 mr-1",style:{height:"calc(100% - 40px)"},children:[" ",Object(C.jsx)("div",{id:"table-container",className:"table-responsive custom-table-container",children:Object(C.jsxs)("table",{className:"table table-hover table-bordered table-sm",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)(B,{checked:d,onChange:this.toggleSelectAllRow}),Object(C.jsx)(J,{type:"text",title:"Type",name:"type",width:"80px",sort:i,toggleSort:this.toggleSort,index:"1",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:r}),Object(C.jsx)(J,{type:"text",title:"User",name:"user",sort:i,toggleSort:this.toggleSort,index:"2",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:r}),Object(C.jsx)(J,{type:"text",title:"Date",name:"createdAt",width:"80px",sort:i,toggleSort:this.toggleSort,index:"3",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:r}),Object(C.jsx)(J,{type:"text",title:"Expires",name:"expiresAt",width:"80px",sort:i,toggleSort:this.toggleSort,index:"4",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:r}),Object(C.jsx)(J,{type:"text",title:"Status",name:"status",width:"80px",sort:i,toggleSort:this.toggleSort,index:"5",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:r})]})}),Object(C.jsx)("tbody",{className:"full-height",children:this.generateBody()})]})})]}),Object(C.jsx)(de,{currentPage:m,pageLast:x,first:S,second:y,third:N,firstItem:O,lastItem:g,pageItems:v,totalItems:w,changePage:this.changePage})]}),Object(C.jsxs)(re,{show:l,hideModal:this.toggleModalSearch,title:"Search",size:"modal-lg",children:[Object(C.jsx)("section",{id:"fields",className:"drop-section",children:Object(C.jsx)("div",{className:"row row-cols-1 row-cols-md-2",children:Object.keys(p).map((function(t){return Object(C.jsx)(pe,{name:t,isFocused:p[t].isFocused,focused:u,value:p[t].value,placeholder:p[t].placeholder,selection:j[t],options:p[t].options,hover:e.state.params[t].hover,page:p[t].page,onChange:e.handleChangeDropdown,handleNextDropdown:e.handleNextDropdown,handleSelect:e.handleSelectDropdown,onFocus:e.onFocusDropdown,onHover:e.onHoverDropdown,toggleDropDown:e.toggleDropDown},t)}))})}),Object(C.jsx)("div",{className:"modal-footer",children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("button",{className:"btn btn-sm btn-leeuwen",onClick:this.handleClearFields,children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"filter",className:"fa mr-2"}),"Clear Fields"]})}),Object(C.jsx)("button",{className:"btn btn-sm btn-leeuwen-blue ml-2",onClick:this.toggleModalSearch,children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"times",className:"fa mr-2"}),"Close"]})})]})})]})]})]})}}]),a}(n.a.Component),Ce=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={elements:[],sort:{name:"",isAscending:!0},dropdown:{type:"",status:"",user:"",createdAt:"",expiresAt:""},params:{type:{value:"",placeholder:"type",options:[],hover:"",page:0},status:{value:"",placeholder:"status",options:[],hover:"",page:0},user:{value:"",placeholder:"user",options:[],hover:"",page:0},createdAt:{value:"",placeholder:"createdAt",options:[],hover:"",page:0},expiresAt:{value:"",placeholder:"expiresAt",options:[],hover:"",page:0}},focused:"",alert:{type:"",message:""},selectAllRows:!1,selectedRows:[],retrieving:!1,loading:!1,showParam:!1,paramName:"",paramKey:Date.now(),uploadingParam:!1,downloadingParam:!1,showSearch:!1,menuItem:"Import data",settingsColWidth:{},paginate:{pageSize:0,currentPage:1,firstItem:0,lastItem:0,pageItems:0,pageLast:1,totalItems:0,first:1,second:2,third:3}},s.resize=s.resize.bind(Object(h.a)(s)),s.handleClearAlert=s.handleClearAlert.bind(Object(h.a)(s)),s.setAlert=s.setAlert.bind(Object(h.a)(s)),s.toggleSort=s.toggleSort.bind(Object(h.a)(s)),s.getDocuments=s.getDocuments.bind(Object(h.a)(s)),s.colDoubleClick=s.colDoubleClick.bind(Object(h.a)(s)),s.setColWidth=s.setColWidth.bind(Object(h.a)(s)),s.changePage=s.changePage.bind(Object(h.a)(s)),s.generateBody=s.generateBody.bind(Object(h.a)(s)),s.toggleModalSearch=s.toggleModalSearch.bind(Object(h.a)(s)),s.handleClearFields=s.handleClearFields.bind(Object(h.a)(s)),s.getDropdownOptions=s.getDropdownOptions.bind(Object(h.a)(s)),s.handleChangeDropdown=s.handleChangeDropdown.bind(Object(h.a)(s)),s.handleNextDropdown=s.handleNextDropdown.bind(Object(h.a)(s)),s.handleSelectDropdown=s.handleSelectDropdown.bind(Object(h.a)(s)),s.onFocusDropdown=s.onFocusDropdown.bind(Object(h.a)(s)),s.onHoverDropdown=s.onHoverDropdown.bind(Object(h.a)(s)),s.toggleDropDown=s.toggleDropDown.bind(Object(h.a)(s)),s.toggleSelectAllRow=s.toggleSelectAllRow.bind(Object(h.a)(s)),s.updateSelectedRows=s.updateSelectedRows.bind(Object(h.a)(s)),s.toggleParam=s.toggleParam.bind(Object(h.a)(s)),s.handleChangeParam=s.handleChangeParam.bind(Object(h.a)(s)),s.handleUploadParam=s.handleUploadParam.bind(Object(h.a)(s)),s.paramInput=n.a.createRef(),s}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=document.getElementById("table-container");this.interval=setInterval((function(){return e.getDocuments(e.state.paginate.currentPage)}),3e3),this.setState({paginate:Object(i.a)(Object(i.a)({},this.state.paginate),{},{pageSize:M(t.clientHeight)})},(function(){return e.getDocuments(e.state.paginate.currentPage)}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"resize",value:function(){var e=this,t=document.getElementById("table-container");this.setState({paginate:Object(i.a)(Object(i.a)({},this.state.paginate),{},{pageSize:M(t.clientHeight)})},(function(){return e.getDocuments(e.state.paginate.currentPage)}))}},{key:"componentDidUpdate",value:function(e,t){var a=this.state,s=a.sort,n=a.dropdown,c=a.paginate,o=a.elements,i=a.selectedRows;if((s!==t.sort||n!==t.dropdown||c.pageSize!==t.paginate.pageSize&&0!==t.paginate.pageSize)&&this.getDocuments(),this.state.params.type.value!==t.params.type.value&&this.getDropdownOptions("type",0),this.state.params.status.value!==t.params.status.value&&this.getDropdownOptions("status",0),this.state.params.user.value!==t.params.user.value&&this.getDropdownOptions("user",0),this.state.params.createdAt.value!==t.params.createdAt.value&&this.getDropdownOptions("createdAt",0),this.state.params.expiresAt.value!==t.params.expiresAt.value&&this.getDropdownOptions("expiresAt",0),o!==t.elements){var l=i.reduce((function(e,t){var a=o.find((function(e){return L.a.isEqual(e._id,t)}));return L.a.isUndefined(a)||e.push(t),e}),[]);this.setState({selectedRows:l,selectAllRows:!1})}}},{key:"handleClearAlert",value:function(e){e.preventDefault(),this.setState({alert:{type:"",message:""}})}},{key:"setAlert",value:function(e,t){this.setState({alert:{type:e,message:t}})}},{key:"toggleSort",value:function(e,t){e.preventDefault();var a=this.state.sort;a.name!==t?this.setState({sort:{name:t,isAscending:!0}}):a.isAscending?this.setState({sort:{name:t,isAscending:!1}}):this.setState({sort:{name:"",isAscending:!0}})}},{key:"toggleModalSearch",value:function(){var e=this.state.showSearch;this.setState({showSearch:!e})}},{key:"getDocuments",value:function(e){var t=this,a=this.state,s=a.paginate,n=a.sort,c=a.dropdown;s.pageSize&&this.setState({retrieving:!0},(function(){var a={method:"POST",headers:Object(i.a)(Object(i.a)({},F()),{},{"Content-Type":"application/json"}),body:JSON.stringify({sort:n,dropdown:c,nextPage:e,pageSize:s.pageSize})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/imports/getAll"),a).then((function(e){return e.text().then((function(a){t.setState({retrieving:!1},(function(){var n=a&&JSON.parse(a),c=n&&n.message||e.statusText;401===e.status?(localStorage.removeItem("user"),window.location.reload(!0)):200!==e.status?t.setState({alert:{type:"alert-danger",message:c}}):t.setState({elements:n[0].data,paginate:Object(i.a)(Object(i.a)({},s),n[0].paginate)})}))}))})).catch((function(){localStorage.removeItem("user"),window.location.reload(!0)}))}))}},{key:"colDoubleClick",value:function(e,t){e.preventDefault();var a=this.state.settingsColWidth;if(a.hasOwnProperty(t)){var s=H(a);delete s[t],this.setState({settingsColWidth:s})}else this.setState({settingsColWidth:Object(i.a)(Object(i.a)({},a),{},Object(x.a)({},t,10))})}},{key:"setColWidth",value:function(e,t){var a=this.state.settingsColWidth;this.setState({settingsColWidth:Object(i.a)(Object(i.a)({},a),{},Object(x.a)({},e,t))})}},{key:"changePage",value:function(e,t){e.preventDefault();var a=this.state.paginate;t>0&&t<a.pageLast+1&&this.getDocuments(t)}},{key:"toggleSelectAllRow",value:function(){var e=this.state,t=e.selectAllRows,a=e.elements;L.a.isEmpty(a)||(t?this.setState({selectedRows:[],selectAllRows:!1}):this.setState({selectedRows:a.map((function(e){return e._id})),selectAllRows:!0}))}},{key:"updateSelectedRows",value:function(e){var t=this.state.selectedRows;t.includes(e)?this.setState({selectedRows:K(t,e)}):this.setState({selectedRows:[].concat(Object(R.a)(t),[e])})}},{key:"generateBody",value:function(){var e=this,t=this.state,a=t.elements,s=t.retrieving,n=t.paginate,c=t.settingsColWidth,o=t.selectAllRows,i=t.selectedRows,l=[];if(L.a.isEmpty(a)&&s)for(var r=0;r<n.pageSize;r++)l.push(Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})}),Object(C.jsx)("td",{className:"no-select",children:Object(C.jsx)(U.a,{})})]},r));else a.map((function(t){l.push(Object(C.jsxs)("tr",{children:[Object(C.jsx)(q,{id:t._id,selectAllRows:o,selectedRows:i,callback:e.updateSelectedRows}),Object(C.jsx)($,{colIndex:"1",value:t.type,type:"text",settingsColWidth:c,eventId:t._id}),Object(C.jsx)($,{colIndex:"2",value:t.user,type:"text",settingsColWidth:c,eventId:t._id}),Object(C.jsx)($,{colIndex:"3",value:t.message,type:"text",settingsColWidth:c,eventId:t._id}),Object(C.jsx)($,{colIndex:"4",value:t.createdAtX,type:"text",settingsColWidth:c,eventId:t._id}),Object(C.jsx)($,{colIndex:"5",value:t.expiresAtX,type:"text",settingsColWidth:c,eventId:t._id}),Object(C.jsx)($,{colIndex:"6",value:t.status,type:"text",settingsColWidth:c,eventId:t._id})]},t._id))}));return l}},{key:"handleClearFields",value:function(e){e.preventDefault(),this.setState({sort:{name:"",isAscending:!0},dropdown:{type:"",status:"",user:"",createdAt:"",expiresAt:""},params:{type:{value:"",placeholder:"type",options:[],hover:"",page:0},status:{value:"",placeholder:"status",options:[],hover:"",page:0},user:{value:"",placeholder:"user",options:[],hover:"",page:0},createdAt:{value:"",placeholder:"createdAt",options:[],hover:"",page:0},expiresAt:{value:"",placeholder:"expiresAt",options:[],hover:"",page:0}},focused:""})}},{key:"getDropdownOptions",value:function(e,t){var a=this,s=this.state,n=s.focused,c=s.sort,o=s.dropdown;this.setState({loading:!0},(function(){var s={method:"POST",headers:Object(i.a)(Object(i.a)({},F()),{},{"Content-Type":"application/json"}),body:JSON.stringify({sort:c,dropdown:o,name:a.state.params[e].value,page:t||0})};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/imports/getDrop/").concat(e),s).then((function(s){return s.text().then((function(c){a.setState({loading:!1},(function(){var o=c&&JSON.parse(c);200===s.status&&a.setState({params:Object(i.a)(Object(i.a)({},a.state.params),{},Object(x.a)({},e,Object(i.a)(Object(i.a)({},a.state.params[e]),{},{options:e!==n?[]:0!==t?[].concat(Object(R.a)(a.state.params[e].options),Object(R.a)(o)):o,page:t})))})}))}))})).catch((function(){localStorage.removeItem("user"),window.location.reload(!0)}))}))}},{key:"handleNextDropdown",value:function(e){var t=this;this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},e,Object(i.a)(Object(i.a)({},this.state.params[e]),{},{page:this.state.params[e].page+1})))},(function(){t.getDropdownOptions(e,t.state.params[e].page)}))}},{key:"handleChangeDropdown",value:function(e){e.preventDefault();var t=e.target,a=t.name,s=t.value;this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},a,Object(i.a)(Object(i.a)({},this.state.params[a]),{},{value:s}))),dropdown:Object(i.a)(Object(i.a)({},this.state.dropdown),{},Object(x.a)({},a,""))})}},{key:"handleSelectDropdown",value:function(e,t,a){e.preventDefault(),this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},t,Object(i.a)(Object(i.a)({},this.state.params[t]),{},{value:"",options:[],hover:""}))),dropdown:Object(i.a)(Object(i.a)({},this.state.dropdown),{},Object(x.a)({},t,a)),focused:""}),document.getElementById(t).blur()}},{key:"onFocusDropdown",value:function(e){var t,a=this,s=e.target.name,n=this.state.focused;n?this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},(t={},Object(x.a)(t,s,Object(i.a)(Object(i.a)({},this.state.params[s]),{},{options:[],value:this.state.dropdown[s],hover:""})),Object(x.a)(t,n,Object(i.a)(Object(i.a)({},this.state.params[n]),{},{options:[],value:"",hover:""})),t)),focused:s},(function(){return a.getDropdownOptions(s,0)})):this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},s,Object(i.a)(Object(i.a)({},this.state.params[s]),{},{options:[],value:this.state.dropdown[s],hover:""}))),focused:s},(function(){return a.getDropdownOptions(s,0)}))}},{key:"onHoverDropdown",value:function(e,t,a){e.preventDefault(),this.setState({params:Object(i.a)(Object(i.a)({},this.state.params),{},Object(x.a)({},t,Object(i.a)(Object(i.a)({},this.state.params[t]),{},{hover:a})))})}},{key:"toggleDropDown",value:function(e,t){e.preventDefault();var a=this.state,s=a.params,n=a.dropdown,c=a.focused;if(L.a.isEqual(c,t)||n[t]){this.setState({params:Object(i.a)(Object(i.a)({},s),{},Object(x.a)({},t,Object(i.a)(Object(i.a)({},s[t]),{},{options:[],value:"",hover:""}))),dropdown:Object(i.a)(Object(i.a)({},n),{},Object(x.a)({},t,"")),focused:""}),document.getElementById(t).blur()}else{var o=document.getElementById(t);o.focus(),o.select()}}},{key:"toggleParam",value:function(e){e.preventDefault();var t=this.state.showParam;this.setState({showParam:!t,alert:{type:"",message:""},paramKey:Date.now(),paramName:""})}},{key:"handleChangeParam",value:function(e){e.target.files.length>0&&this.setState(Object(i.a)(Object(i.a)({},this.state),{},{paramName:e.target.files[0].name}))}},{key:"handleUploadParam",value:function(e){var t=this;if(e.preventDefault(),!this.state.uploadingParam&&this.paramInput.current){this.setState({uploadingParam:!0});var a=new FormData;a.append("file",this.paramInput.current.files[0]);var s={method:"POST",headers:Object(i.a)({},F()),body:a};return fetch("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URI,"/server/imports/uploadParam"),s).then((function(e){return e.text().then((function(a){var s=a&&JSON.parse(a);401===e.status?(localStorage.removeItem("user"),window.location.reload(!0)):t.setState({uploadingParam:!1,alert:{type:200===e.status?"alert-success":"alert-danger",message:s.message}},(function(){return t.getDocument()}))}))})).catch((function(){localStorage.removeItem("user"),window.location.reload(!0)}))}}},{key:"render",value:function(){var e=this,t=this.props,a=t.collapsed,s=t.toggleCollapse,n=this.state,c=n.alert,o=n.menuItem,i=n.sort,l=n.showSearch,r=n.settingsColWidth,d=n.selectAllRows,h=this.state,p=h.params,u=h.focused,b=h.dropdown,m=this.state,O=m.showParam,g=m.paramName,v=m.paramKey,x=m.uploadingParam,w=(m.downloadingParam,this.state.paginate),S=w.currentPage,y=w.firstItem,N=w.lastItem,D=w.pageItems,k=w.pageLast,A=w.totalItems,_=w.first,I=w.second,P=w.third;return Object(C.jsxs)(le,{collapsed:a,toggleCollapse:s,menuItem:o,children:[c.message&&!O&&Object(C.jsxs)("div",{className:"alert ".concat(c.type),children:[c.message,Object(C.jsx)("button",{className:"close",onClick:function(t){return e.handleClearAlert(t)},children:Object(C.jsx)("span",{"aria-hidden":"true",children:Object(C.jsx)(f.a,{icon:"times"})})})]}),Object(C.jsxs)("div",{id:"setting",className:c.message&&!O?"main-section-alert":"main-section",children:[Object(C.jsxs)("div",{className:"action-row row",children:[Object(C.jsxs)("button",{title:"Search",className:"btn btn-sm btn-leeuwen-blue mr-2",onClick:this.toggleModalSearch,children:[" ",Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"search",className:"fa mr-2"}),"Search"]})]}),Object(C.jsx)("button",{title:"Import Params",className:"btn btn-sm btn-leeuwen-blue mr-2",onClick:this.toggleParam,children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"file-download",className:"fa mr-2"}),"Params"]})})]}),Object(C.jsxs)("div",{className:"body-section",children:[Object(C.jsxs)("div",{className:"row ml-1 mr-1",style:{height:"calc(100% - 40px)"},children:[" ",Object(C.jsx)("div",{id:"table-container",className:"table-responsive custom-table-container",children:Object(C.jsxs)("table",{className:"table table-hover table-bordered table-sm",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)(B,{checked:d,onChange:this.toggleSelectAllRow}),Object(C.jsx)(J,{type:"text",title:"Type",name:"type",width:"80px",sort:i,toggleSort:this.toggleSort,index:"1",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:r}),Object(C.jsx)(J,{type:"text",title:"User",name:"user",width:"150px",sort:i,toggleSort:this.toggleSort,index:"2",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:r}),Object(C.jsx)(J,{type:"text",title:"Import Logs",name:"message",sort:i,toggleSort:this.toggleSort,index:"3",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:r}),Object(C.jsx)(J,{type:"text",title:"Date",name:"createdAt",width:"80px",sort:i,toggleSort:this.toggleSort,index:"4",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:r}),Object(C.jsx)(J,{type:"text",title:"Expires",name:"expiresAt",width:"80px",sort:i,toggleSort:this.toggleSort,index:"5",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:r}),Object(C.jsx)(J,{type:"text",title:"Status",name:"status",width:"80px",sort:i,toggleSort:this.toggleSort,index:"6",colDoubleClick:this.colDoubleClick,setColWidth:this.setColWidth,settingsColWidth:r})]})}),Object(C.jsx)("tbody",{className:"full-height",children:this.generateBody()})]})})]}),Object(C.jsx)(de,{currentPage:S,pageLast:k,first:_,second:I,third:P,firstItem:y,lastItem:N,pageItems:D,totalItems:A,changePage:this.changePage})]}),Object(C.jsxs)(re,{show:l,hideModal:this.toggleModalSearch,title:"Search",size:"modal-lg",children:[Object(C.jsx)("section",{id:"fields",className:"drop-section",children:Object(C.jsx)("div",{className:"row row-cols-1 row-cols-md-2",children:Object.keys(p).map((function(t){return Object(C.jsx)(pe,{name:t,isFocused:p[t].isFocused,focused:u,value:p[t].value,placeholder:p[t].placeholder,selection:b[t],options:p[t].options,hover:e.state.params[t].hover,page:p[t].page,onChange:e.handleChangeDropdown,handleNextDropdown:e.handleNextDropdown,handleSelect:e.handleSelectDropdown,onFocus:e.onFocusDropdown,onHover:e.onHoverDropdown,toggleDropDown:e.toggleDropDown},t)}))})}),Object(C.jsx)("div",{className:"modal-footer",children:Object(C.jsxs)("div",{className:"row",children:[Object(C.jsx)("button",{className:"btn btn-sm btn-leeuwen",onClick:this.handleClearFields,children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"filter",className:"fa mr-2"}),"Clear Fields"]})}),Object(C.jsx)("button",{className:"btn btn-sm btn-leeuwen-blue ml-2",onClick:this.toggleModalSearch,children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"times",className:"fa mr-2"}),"Close"]})})]})})]}),Object(C.jsxs)(re,{show:O,hideModal:this.toggleParam,title:"Import Params",size:"modal-lg",children:[Object(C.jsxs)("div",{className:"col-12",children:[c.message&&Object(C.jsx)("div",{className:"row",children:Object(C.jsx)("div",{className:"col-12",style:{marginLeft:"0px",marginRight:"0px",paddingLeft:"0px",paddingRight:"0px"},children:Object(C.jsxs)("div",{className:"alert ".concat(c.type),children:[" ",c.message,Object(C.jsx)("button",{className:"close",onClick:function(t){return e.handleClearAlert(t)},children:Object(C.jsx)("span",{"aria-hidden":"true",children:Object(C.jsx)(f.a,{icon:"times"})})})]})})}),Object(C.jsx)("div",{className:"row",children:Object(C.jsx)("form",{className:"col-12 mb-3 ml-0 mr-0  pl-0 pr-0",encType:"multipart/form-data",onSubmit:this.handleUploadParam,children:Object(C.jsxs)("div",{className:"input-group",children:[Object(C.jsxs)("div",{className:"input-group-prepend",children:[Object(C.jsx)("span",{className:"input-group-text",style:{width:"100px",fontSize:"10px"},children:"Select Document"}),Object(C.jsx)("input",{type:"file",name:"paramInput",id:"paramInput",ref:this.paramInput,className:"custom-file-input",style:{opacity:0,position:"absolute",pointerEvents:"none",width:"1px"},onChange:this.handleChangeParam},v)]}),Object(C.jsx)("label",{type:"text",className:"form-control text-left",htmlFor:"paramInput",style:{display:"inline-block",padding:"7px"},children:g||"Choose file..."}),Object(C.jsxs)("div",{className:"input-group-append",children:[Object(C.jsx)("button",{type:"submit",className:"btn btn-sm btn-outline-leeuwen-blue",disabled:!this.paramInput.current,children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:x?"spinner":"upload",className:x?"fa-pulse fa-fw fa mr-2":"fa mr-2"}),"Upload"]})}),Object(C.jsx)(j.b,{className:"btn btn-sm btn-outline-leeuwen-blue",to:{pathname:"//vanleeuwenwkf.s3.eu-west-3.amazonaws.com/templates/duf_params.xlsm"},target:"_blank",children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"download",className:"fa mr-2"}),"Download"]})})]})]})})})]}),Object(C.jsx)("div",{className:"modal-footer",children:Object(C.jsx)("div",{className:"row",children:Object(C.jsx)("button",{className:"btn btn-sm btn-leeuwen-blue ml-2",onClick:this.toggleParam,children:Object(C.jsxs)("span",{children:[Object(C.jsx)(f.a,{icon:"times",className:"fa mr-2"}),"Close"]})})})})]})]})]})}}]),a}(n.a.Component);m.b.add(O.a,g.a,v.a);var ye=function(e){Object(p.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={collapsed:!0},s.toggleCollapse=s.toggleCollapse.bind(Object(h.a)(s)),s}return Object(d.a)(a,[{key:"toggleCollapse",value:function(){var e=this.state.collapsed;this.setState({collapsed:!e})}},{key:"render",value:function(){var e=localStorage.getItem("user"),t=this.state.collapsed;return Object(C.jsx)(j.a,{children:Object(C.jsxs)(b.d,{children:[Object(C.jsx)(b.b,{path:"/login",children:Object(C.jsx)(k,{})}),Object(C.jsx)(b.b,{path:"/reqpwd",children:Object(C.jsx)(A,{})}),Object(C.jsx)(b.b,{path:"/resetpwd",children:Object(C.jsx)(T,{})}),Object(C.jsx)(Ne,{exact:!0,path:"/",user:e,children:Object(C.jsx)(xe,{user:e,collapsed:t,toggleCollapse:this.toggleCollapse})}),Object(C.jsx)(Ne,{exact:!0,path:"/buyout",user:e,children:Object(C.jsx)(fe,{user:e,collapsed:t,toggleCollapse:this.toggleCollapse})}),Object(C.jsx)(Ne,{exact:!0,path:"/import",user:e,children:Object(C.jsx)(Ce,{user:e,collapsed:t,toggleCollapse:this.toggleCollapse})}),Object(C.jsx)(Ne,{exact:!0,path:"/export",user:e,children:Object(C.jsx)(Se,{user:e,collapsed:t,toggleCollapse:this.toggleCollapse})}),Object(C.jsx)(Ne,{exact:!0,path:"/user",user:e,children:Object(C.jsx)(je,{user:e,collapsed:t,toggleCollapse:this.toggleCollapse})}),Object(C.jsx)(Ne,{exact:!0,path:"/settings",user:e,children:Object(C.jsx)(ue,{user:e,collapsed:t,toggleCollapse:this.toggleCollapse})}),Object(C.jsx)(b.b,{path:"*",children:Object(C.jsx)(E,{})})]})})}}]),a}(n.a.Component);function Ne(e){var t=e.children,a=e.user,s=Object(l.a)(e,["children","user"]);return Object(C.jsx)(b.b,Object(i.a)(Object(i.a)({},s),{},{render:function(e){return a?t:Object(C.jsx)(b.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var De=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,83)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),s(e),n(e),c(e),o(e)}))};o.a.render(Object(C.jsx)(ye,{}),document.getElementById("root")),De()}},[[82,1,2]]]);
//# sourceMappingURL=main.3ab0265a.chunk.js.map